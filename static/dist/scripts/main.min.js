!function(e,r,t,a){e.app.vennSearchView=r.View.extend({template:"<span>vennSearchView view</span>",el:"#appView","class":"vennSearchView",viewState:{primarysearch:!0},viewTitle:"New Primary Search",frequentWordModel:{s1:"",s2:"",s3:""},events:{"click .vennSearchView .searchContainer .searchnow":"primarySearch","click .vennSearchView .primaryResultsContainer .searchnow":"vennSearch","click .vennSearchView .primaryResultsContainer .topic":"commonWordOnGraphSelection","change .vennSearchView .primaryResultsContainer input":"onFrequentWordSelectionInputChange"},initialize:function(){this.render()},render:function(){this.template=a.vennSearchView(this.viewState),this.changePageTitle(this.viewTitle),this.$el.html(this.template),componentHandler.upgradeDom()},primarySearch:function(){this.changeLoader(!0),this.viewState={primaryresults:!0},this.viewTitle="Filter By Common Words",this.render(),this.treeChart1=new e.app.treeChart({name:"Pirate",children:[{name:"Ball"},{name:"Steel"},{name:"Carbon"},{name:"Powder"},{name:"Ship"},{name:"Wood"},{name:"Parrot"},{name:"Treasure"},{name:"Bounty"},{name:"Wench"}]}),this.changeLoader(!1)},vennSearch:function(){this.changeLoader(!0),this.viewState={vennresults:!0},this.viewTitle="Venn Results",this.render(),this.changeLoader(!1),this.chart=new e.app.chartView,this.chart.drawGraph(e.app.data.primarySearch)},changeLoader:function(r){e.app.showHideLoadingBar(r)},changePageTitle:function(r){e.app.changePageTitle(r)},onFrequentWordSelectionInputChange:function(e){var r=this.$el.find(e.currentTarget),t=r.val();"search2"===r.attr("id")&&(this.frequentWordModel.s1=t),"search3"===r.attr("id")&&(this.frequentWordModel.s2=t),"search4"===r.attr("id")&&(this.frequentWordModel.s3=t),this.syncGraphAndSearchInputs()},commonWordOnGraphSelection:function(e){var r=$(e.currentTarget),t=r.data("topic");r.hasClass("active")?(r.removeClass("active"),this.addRemoveTermToFrequentModel(t,!0)):r.hasClass("active")||(r.addClass("active"),this.addRemoveTermToFrequentModel(t,!1)),this.syncGraphAndSearchInputs()},addRemoveTermToFrequentModel:function(e,r){var t,a=!1,n=0,i=this;for(t in i.frequentWordModel)i.frequentWordModel[t]===e&&(a=!0),""!==i.frequentWordModel[t]&&(n+=1);if(r){if(!a||0===n)return;i.frequentWordModel.s1===e?i.frequentWordModel.s1="":i.frequentWordModel.s2===e?i.frequentWordModel.s2="":i.frequentWordModel.s3===e&&(i.frequentWordModel.s3="")}else{if(a)return;if(3===n)for(t in i.frequentWordModel)i.frequentWordModel[t]="";""===i.frequentWordModel.s1?i.frequentWordModel.s1=e:""===i.frequentWordModel.s2?i.frequentWordModel.s2=e:""===i.frequentWordModel.s3&&(i.frequentWordModel.s3=e)}},syncGraphAndSearchInputs:function(){function e(){s.removeClass("active"),i.$el.find('.topic[data-topic="'+i.frequentWordModel.s1+'"]').addClass("active"),i.$el.find('.topic[data-topic="'+i.frequentWordModel.s2+'"]').addClass("active"),i.$el.find('.topic[data-topic="'+i.frequentWordModel.s3+'"]').addClass("active")}function r(){i.$el.find(".primaryResultsContainer input").val("").parent().removeClass("is-dirty").removeClass("is-focused"),""!==i.frequentWordModel.s1&&t.val(i.frequentWordModel.s1).parent().addClass("is-dirty").addClass("is-focused"),""!==i.frequentWordModel.s2&&a.val(i.frequentWordModel.s2).parent().addClass("is-dirty").addClass("is-focused"),""!==i.frequentWordModel.s3&&n.val(i.frequentWordModel.s3).parent().addClass("is-dirty").addClass("is-focused")}var t=$("#search2"),a=$("#search3"),n=$("#search4"),i=this,s=this.$el.find(".topic");e(),r()}})}(window,Backbone,Handlebars,Templates);
//# sourceMappingURL=main.min.js.map
