"use strict";var numeric="undefined"==typeof exports?function(){}:exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,n){var t,r,i,o;for("undefined"==typeof n&&(n=15),i=.5,t=new Date;;){for(i*=2,o=i;o>3;o-=4)e(),e(),e(),e();for(;o>0;)e(),o--;if(r=new Date,r-t>n)break}for(o=i;o>3;o-=4)e(),e(),e(),e();for(;o>0;)e(),o--;return r=new Date,1e3*(3*i-1)/(r-t)},numeric._myIndexOf=function(e){var n,t=this.length;for(n=0;n<t;++n)if(this[n]===e)return n;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(e){function n(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+n(-e);if(isFinite(e)){var t=Math.floor(Math.log(e)/Math.log(10)),r=e/Math.pow(10,t),i=r.toPrecision(numeric.precision);return 10===parseFloat(i)&&(t++,r=1,i=r.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+t.toString()}return"Infinity"}function t(e){var i;if("undefined"==typeof e)return r.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof e)return r.push('"'+e+'"'),!1;if("boolean"==typeof e)return r.push(e.toString()),!1;if("number"==typeof e){var o=n(e),a=e.toPrecision(numeric.precision),s=parseFloat(e.toString()).toString(),u=[o,a,s,parseFloat(a).toString(),parseFloat(s).toString()];for(i=1;i<u.length;i++)u[i].length<o.length&&(o=u[i]);return r.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===e)return r.push("null"),!1;if("function"==typeof e){r.push(e.toString());var c=!1;for(i in e)e.hasOwnProperty(i)&&(c?r.push(",\n"):r.push("\n{"),c=!0,r.push(i),r.push(": \n"),t(e[i]));return c&&r.push("}\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return r.push("...Large Array..."),!0;var c=!1;for(r.push("["),i=0;i<e.length;i++)i>0&&(r.push(","),c&&r.push("\n ")),c=t(e[i]);return r.push("]"),!0}r.push("{");var c=!1;for(i in e)e.hasOwnProperty(i)&&(c&&r.push(",\n"),c=!0,r.push(i),r.push(": \n"),t(e[i]));return r.push("}"),!0}var r=[];return t(e),r.join("")},numeric.parseDate=function(e){function n(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(e instanceof Array){var t,r=[];for(t=0;t<e.length;t++)r[t]=n(e[t]);return r}throw new Error("parseDate: parameter must be arrays of strings")}return n(e)},numeric.parseFloat=function(e){function n(e){if("string"==typeof e)return parseFloat(e);if(e instanceof Array){var t,r=[];for(t=0;t<e.length;t++)r[t]=n(e[t]);return r}throw new Error("parseFloat: parameter must be arrays of strings")}return n(e)},numeric.parseCSV=function(e){var n,t,r=e.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(e){return e.substr(0,e.length-1)},u=0;for(t=0;t<r.length;t++){var c,l=(r[t]+",").match(o);if(l.length>0){for(i[u]=[],n=0;n<l.length;n++)c=s(l[n]),a.test(c)?i[u][n]=parseFloat(c):i[u][n]=c;u++}}return i},numeric.toCSV=function(e){var n,t,r,i,o,a,s=numeric.dim(e);for(r=s[0],i=s[1],a=[],n=0;n<r;n++){for(o=[],t=0;t<r;t++)o[t]=e[n][t].toString();a[n]=o.join(", ")}return a.join("\n")+"\n"},numeric.getURL=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n},numeric.imageURL=function(e){function n(e){var n,t,r,i,o,a,s,u,c=e.length,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";for(n=0;n<c;n+=3)t=e[n],r=e[n+1],i=e[n+2],o=t>>2,a=((3&t)<<4)+(r>>4),s=((15&r)<<2)+(i>>6),u=63&i,n+1>=c?s=u=64:n+2>=c&&(u=64),f+=l.charAt(o)+l.charAt(a)+l.charAt(s)+l.charAt(u);return f}function t(e,n,t){"undefined"==typeof n&&(n=0),"undefined"==typeof t&&(t=e.length);var r,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1,a=0;e.length;for(r=n;r<t;r++)a=255&(o^e[r]),o=o>>>8^i[a];return o^-1}var r,i,o,a,s,u,c,l,f,h,m=e[0].length,p=e[0][0].length,d=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,m>>24&255,m>>16&255,m>>8&255,255&m,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=t(d,12,29),d[29]=h>>24&255,d[30]=h>>16&255,d[31]=h>>8&255,d[32]=255&h,r=1,i=0,c=0;c<m;c++){for(c<m-1?d.push(0):d.push(1),s=3*p+1+(0===c)&255,u=3*p+1+(0===c)>>8&255,d.push(s),d.push(u),d.push(255&~s),d.push(255&~u),0===c&&d.push(0),l=0;l<p;l++)for(o=0;o<3;o++)s=e[o][c][l],s=s>255?255:s<0?0:Math.round(s),r=(r+s)%65521,i=(i+r)%65521,d.push(s);d.push(0)}return f=(i<<16)+r,d.push(f>>24&255),d.push(f>>16&255),d.push(f>>8&255),d.push(255&f),a=d.length-41,d[33]=a>>24&255,d[34]=a>>16&255,d[35]=a>>8&255,d[36]=255&a,h=t(d,37),d.push(h>>24&255),d.push(h>>16&255),d.push(h>>8&255),d.push(255&h),d.push(0),d.push(0),d.push(0),d.push(0),d.push(73),d.push(69),d.push(78),d.push(68),d.push(174),d.push(66),d.push(96),d.push(130),"data:image/png;base64,"+n(d)},numeric._dim=function(e){for(var n=[];"object"==typeof e;)n.push(e.length),e=e[0];return n},numeric.dim=function(e){var n,t;return"object"==typeof e?(n=e[0],"object"==typeof n?(t=n[0],"object"==typeof t?numeric._dim(e):[e.length,n.length]):[e.length]):[]},numeric.mapreduce=function(e,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+';\nif(typeof x === "number") { var xi = x; '+e+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+e+";\n    xi = x[i-1];\n    "+e+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+e+"\n}\nreturn accum;")},numeric.mapreduce2=function(e,n){return Function("x","var n = x.length;\nvar i,xi;\n"+n+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+e+";\n}\nreturn accum;")},numeric.same=function e(n,t){var r,i;if(n instanceof Array&&t instanceof Array){if(i=n.length,i!==t.length)return!1;for(r=0;r<i;r++)if(n[r]!==t[r]){if("object"!=typeof n[r])return!1;if(!e(n[r],t[r]))return!1}return!0}return!1},numeric.rep=function(e,n,t){"undefined"==typeof t&&(t=0);var r,i=e[t],o=Array(i);if(t===e.length-1){for(r=i-2;r>=0;r-=2)o[r+1]=n,o[r]=n;return r===-1&&(o[0]=n),o}for(r=i-1;r>=0;r--)o[r]=numeric.rep(e,n,t+1);return o},numeric.dotMMsmall=function(e,n){var t,r,i,o,a,s,u,c,l,f,h;for(o=e.length,a=n.length,s=n[0].length,u=Array(o),t=o-1;t>=0;t--){for(c=Array(s),l=e[t],i=s-1;i>=0;i--){for(f=l[a-1]*n[a-1][i],r=a-2;r>=1;r-=2)h=r-1,f+=l[r]*n[r][i]+l[h]*n[h][i];0===r&&(f+=l[0]*n[0][i]),c[i]=f}u[t]=c}return u},numeric._getCol=function(e,n,t){var r,i=e.length;for(r=i-1;r>0;--r)t[r]=e[r][n],--r,t[r]=e[r][n];0===r&&(t[0]=e[0][n])},numeric.dotMMbig=function(e,n){var t,r,i,o,a=numeric._getCol,s=n.length,u=Array(s),c=e.length,l=n[0].length,f=new Array(c),h=numeric.dotVV;for(--s,--c,r=c;r!==-1;--r)f[r]=Array(l);for(--l,r=l;r!==-1;--r)for(a(n,r,u),i=c;i!==-1;--i)o=0,t=e[i],f[i][r]=h(t,u);return f},numeric.dotMV=function(e,n){var t,r=e.length,i=(n.length,Array(r)),o=numeric.dotVV;for(t=r-1;t>=0;t--)i[t]=o(e[t],n);return i},numeric.dotVM=function(e,n){var t,r,i,o,a,s,u;for(i=e.length,o=n[0].length,a=Array(o),r=o-1;r>=0;r--){for(s=e[i-1]*n[i-1][r],t=i-2;t>=1;t-=2)u=t-1,s+=e[t]*n[t][r]+e[u]*n[u][r];0===t&&(s+=e[0]*n[0][r]),a[r]=s}return a},numeric.dotVV=function(e,n){var t,r,i=e.length,o=e[i-1]*n[i-1];for(t=i-2;t>=1;t-=2)r=t-1,o+=e[t]*n[t]+e[r]*n[r];return 0===t&&(o+=e[0]*n[0]),o},numeric.dot=function(e,n){var t=numeric.dim;switch(1e3*t(e).length+t(n).length){case 2002:return n.length<10?numeric.dotMMsmall(e,n):numeric.dotMMbig(e,n);case 2001:return numeric.dotMV(e,n);case 1002:return numeric.dotVM(e,n);case 1001:return numeric.dotVV(e,n);case 1e3:return numeric.mulVS(e,n);case 1:return numeric.mulSV(e,n);case 0:return e*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var n,t,r,i,o=e.length,a=Array(o);for(n=o-1;n>=0;n--){for(i=Array(o),t=n+2,r=o-1;r>=t;r-=2)i[r]=0,i[r-1]=0;for(r>n&&(i[r]=0),i[n]=e[n],r=n-1;r>=1;r-=2)i[r]=0,i[r-1]=0;0===r&&(i[0]=0),a[n]=i}return a},numeric.getDiag=function(e){var n,t=Math.min(e.length,e[0].length),r=Array(t);for(n=t-1;n>=1;--n)r[n]=e[n][n],--n,r[n]=e[n][n];return 0===n&&(r[0]=e[0][0]),r},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,n,t){"undefined"==typeof t&&(t="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<e.length;r++)a.test(e[r])?(i=e[r].substring(0,e[r].length-3),s=i):i=e[r],"ret"===i&&(u=!0),o.push(i);return o[e.length]="_s",o[e.length+1]="_k",o[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+e.join(",")+",_s,_k+1);\n    return ret;\n}\n"+t+"\nfor(i=_n-1;i!==-1;--i) {\n    "+n+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(e,n,t){"undefined"==typeof t&&(t="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<e.length;r++)a.test(e[r])?(i=e[r].substring(0,e[r].length-3),s=i):i=e[r],"ret"===i&&(u=!0),o.push(i);return o[e.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+t+"\nfor(i=_n-1;i!==-1;--i) {\n"+n+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function n(e,t,r,i,o){if(i===r.length-1)return void o(e,t);var a,s=r[i];for(a=s-1;a>=0;a--)n("object"==typeof e?e[a]:e,"object"==typeof t?t[a]:t,r,i+1,o)},numeric._biforeach2=function t(e,n,r,i,o){if(i===r.length-1)return o(e,n);var a,s=r[i],u=Array(s);for(a=s-1;a>=0;--a)u[a]=t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,r,i+1,o);return u},numeric._foreach=function r(e,n,t,i){if(t===n.length-1)return void i(e);var o,a=n[t];for(o=a-1;o>=0;o--)r(e[o],n,t+1,i)},numeric._foreach2=function i(e,n,t,r){if(t===n.length-1)return r(e);var o,a=n[t],s=Array(a);for(o=a-1;o>=0;o--)s[o]=i(e[o],n,t+1,r);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,n;for(e=0;e<numeric.mathfuns2.length;++e)n=numeric.mathfuns2[e],numeric.ops2[n]=n;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){n=numeric.ops2[e];var t,r,i="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(i="var "+n+" = Math."+n+";\n",t=function(e,t,r){return e+" = "+n+"("+t+","+r+")"},r=function(e,t){return e+" = "+n+"("+e+","+t+")"}):(t=function(e,t,r){return e+" = "+t+" "+n+" "+r},r=numeric.opseq.hasOwnProperty(e+"eq")?function(e,t){return e+" "+n+"= "+t}:function(e,t){return e+" = "+e+" "+n+" "+t}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),i),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+r("x","y")+"\n}\nreturn x;\n"),numeric[n]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(e=0;e<numeric.mathfuns2.length;++e)n=numeric.mathfuns2[e],delete numeric.ops2[n];for(e=0;e<numeric.mathfuns.length;++e)n=numeric.mathfuns[e],numeric.ops1[n]=n;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",n=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(n)&&(i="var "+n+" = Math."+n+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+n+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+n+"x\nvar i;\nvar V = numeric."+e+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+n+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+n+"(x)\nvar i;\nvar V = numeric."+e+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)n=numeric.mathfuns[e],delete numeric.ops1[n];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(n=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(n[0],n[1]),numeric[e]=Function("x","s","k",n[1]+'if(typeof x !== "object") {    xi = x;\n'+n[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+e+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+n[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,n){return"object"==typeof e?"object"==typeof n?numeric.truncVV(e,n):numeric.truncVS(e,n):"object"==typeof n?numeric.truncSV(e,n):Math.round(e/n)*n},numeric.inv=function(e){var n,t,r,i,o,a,s,e,u=numeric.dim(e),c=Math.abs,l=u[0],f=u[1],h=numeric.clone(e),m=numeric.identity(l);for(a=0;a<f;++a){var p=-1,d=-1;for(o=a;o!==l;++o)s=c(h[o][a]),s>d&&(p=o,d=s);for(t=h[p],h[p]=h[a],h[a]=t,i=m[p],m[p]=m[a],m[a]=i,e=t[a],s=a;s!==f;++s)t[s]/=e;for(s=f-1;s!==-1;--s)i[s]/=e;for(o=l-1;o!==-1;--o)if(o!==a){for(n=h[o],r=m[o],e=n[a],s=a+1;s!==f;++s)n[s]-=t[s]*e;for(s=f-1;s>0;--s)r[s]-=i[s]*e,--s,r[s]-=i[s]*e;0===s&&(r[0]-=i[0]*e)}}return m},numeric.det=function(e){var n=numeric.dim(e);if(2!==n.length||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var t,r,i,o,a,s,u,c,l=n[0],f=1,h=numeric.clone(e);for(r=0;r<l-1;r++){for(i=r,t=r+1;t<l;t++)Math.abs(h[t][r])>Math.abs(h[i][r])&&(i=t);for(i!==r&&(u=h[i],h[i]=h[r],h[r]=u,f*=-1),o=h[r],t=r+1;t<l;t++){for(a=h[t],s=a[r]/o[r],i=r+1;i<l-1;i+=2)c=i+1,a[i]-=o[i]*s,a[c]-=o[c]*s;i!==l&&(a[i]-=o[i]*s)}if(0===o[r])return 0;f*=o[r]}return f*h[r][r]},numeric.transpose=function(e){var n,t,r,i,o,a=e.length,s=e[0].length,u=Array(s);for(t=0;t<s;t++)u[t]=Array(a);for(n=a-1;n>=1;n-=2){for(i=e[n],r=e[n-1],t=s-1;t>=1;--t)o=u[t],o[n]=i[t],o[n-1]=r[t],--t,o=u[t],o[n]=i[t],o[n-1]=r[t];0===t&&(o=u[0],o[n]=i[0],o[n-1]=r[0])}if(0===n){for(r=e[0],t=s-1;t>=1;--t)u[t][0]=r[t],--t,u[t][0]=r[t];0===t&&(u[0][0]=r[0])}return u},numeric.negtranspose=function(e){var n,t,r,i,o,a=e.length,s=e[0].length,u=Array(s);for(t=0;t<s;t++)u[t]=Array(a);for(n=a-1;n>=1;n-=2){for(i=e[n],r=e[n-1],t=s-1;t>=1;--t)o=u[t],o[n]=-i[t],o[n-1]=-r[t],--t,o=u[t],o[n]=-i[t],o[n-1]=-r[t];0===t&&(o=u[0],o[n]=-i[0],o[n-1]=-r[0])}if(0===n){for(r=e[0],t=s-1;t>=1;--t)u[t][0]=-r[t],--t,u[t][0]=-r[t];0===t&&(u[0][0]=-r[0])}return u},numeric._random=function o(e,n){var t,r,i=e[n],a=Array(i);if(n===e.length-1){for(r=Math.random,t=i-1;t>=1;t-=2)a[t]=r(),a[t-1]=r();return 0===t&&(a[0]=r()),a}for(t=i-1;t>=0;t--)a[t]=o(e,n+1);return a},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,n,t){if("undefined"==typeof t&&(t=Math.max(Math.round(n-e)+1,1)),t<2)return 1===t?[e]:[];var r,i=Array(t);for(t--,r=t;r>=0;r--)i[r]=(r*n+(t-r)*e)/t;return i},numeric.getBlock=function(e,n,t){function r(e,o){var a,s=n[o],u=t[o]-s,c=Array(u);if(o===i.length-1){for(a=u;a>=0;a--)c[a]=e[a+s];return c}for(a=u;a>=0;a--)c[a]=r(e[a+s],o+1);return c}var i=numeric.dim(e);return r(e,0)},numeric.setBlock=function(e,n,t,r){function i(e,r,a){var s,u=n[a],c=t[a]-u;if(a===o.length-1)for(s=c;s>=0;s--)e[s+u]=r[s];for(s=c;s>=0;s--)i(e[s+u],r[s],a+1)}var o=numeric.dim(e);return i(e,r,0),e},numeric.getRange=function(e,n,t){var r,i,o,a,s=n.length,u=t.length,c=Array(s);for(r=s-1;r!==-1;--r)for(c[r]=Array(u),o=c[r],a=e[n[r]],i=u-1;i!==-1;--i)o[i]=a[t[i]];return c},numeric.blockMatrix=function(e){var n=numeric.dim(e);if(n.length<4)return numeric.blockMatrix([e]);var t,r,i,o,a,s=n[0],u=n[1];for(t=0,r=0,i=0;i<s;++i)t+=e[i][0].length;for(o=0;o<u;++o)r+=e[0][o][0].length;var c=Array(t);for(i=0;i<t;++i)c[i]=Array(r);var l,f,h,m,p,d=0;for(i=0;i<s;++i){for(l=r,o=u-1;o!==-1;--o)for(a=e[i][o],l-=a[0].length,h=a.length-1;h!==-1;--h)for(p=a[h],f=c[d+h],m=p.length-1;m!==-1;--m)f[l+m]=p[m];d+=e[i][0].length}return c},numeric.tensor=function(e,n){if("number"==typeof e||"number"==typeof n)return numeric.mul(e,n);var t=numeric.dim(e),r=numeric.dim(n);if(1!==t.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,s,u=t[0],c=r[0],l=Array(u);for(o=u-1;o>=0;o--){for(i=Array(c),s=e[o],a=c-1;a>=3;--a)i[a]=s*n[a],--a,i[a]=s*n[a],--a,i[a]=s*n[a],--a,i[a]=s*n[a];for(;a>=0;)i[a]=s*n[a],--a;l[o]=i}return l},numeric.T=function(e,n){this.x=e,this.y=n},numeric.t=function(e,n){return new numeric.T(e,n)},numeric.Tbinop=function(e,n,t,r,i){numeric.indexOf;if("string"!=typeof i){var o;i="";for(o in numeric)numeric.hasOwnProperty(o)&&(e.indexOf(o)>=0||n.indexOf(o)>=0||t.indexOf(o)>=0||r.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+t+");\n}\nif(y.y) {\n  return new numeric.T("+n+");\n}\nreturn new numeric.T("+e+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,n=numeric.div;if(this.y){var t=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(n(this.x,t),n(numeric.neg(this.y),t))}return new T(n(1,this.x))},numeric.T.prototype.div=function a(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var a=numeric.div;return this.y?new numeric.T(a(this.x,e.x),a(this.y,e.x)):new numeric.T(a(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,n=this.x,t=this.y;return t?new numeric.T(e(n),e(t)):new numeric.T(e(n))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,n=this.x,t=this.y;return t?new numeric.T(e(n),numeric.negtranspose(t)):new numeric.T(e(n))},numeric.Tunop=function(e,n,t){return"string"!=typeof t&&(t=""),Function("var x = this;\n"+t+"\nif(x.y) {  "+n+";\n}\n"+e+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var e=this;if("undefined"==typeof e.y)return new numeric.T(numeric.inv(e.x));var n,t,r,i,o,a,s,u,c,l,f,n,t,r,h,m,p,d,g,v,y,x=e.x.length,b=numeric.identity(x),w=numeric.rep([x,x],0),M=numeric.clone(e.x),A=numeric.clone(e.y);for(n=0;n<x;n++){for(p=M[n][n],d=A[n][n],h=p*p+d*d,r=n,t=n+1;t<x;t++)p=M[t][n],d=A[t][n],m=p*p+d*d,m>h&&(r=t,h=m);for(r!==n&&(y=M[n],M[n]=M[r],M[r]=y,y=A[n],A[n]=A[r],A[r]=y,y=b[n],b[n]=b[r],b[r]=y,y=w[n],w[n]=w[r],w[r]=y),i=M[n],o=A[n],u=b[n],c=w[n],p=i[n],d=o[n],t=n+1;t<x;t++)g=i[t],v=o[t],i[t]=(g*p+v*d)/h,o[t]=(v*p-g*d)/h;for(t=0;t<x;t++)g=u[t],v=c[t],u[t]=(g*p+v*d)/h,c[t]=(v*p-g*d)/h;for(t=n+1;t<x;t++){for(a=M[t],s=A[t],l=b[t],f=w[t],p=a[n],d=s[n],r=n+1;r<x;r++)g=i[r],v=o[r],a[r]-=g*p-v*d,s[r]-=v*p+g*d;for(r=0;r<x;r++)g=u[r],v=c[r],l[r]-=g*p-v*d,f[r]-=v*p+g*d}}for(n=x-1;n>0;n--)for(u=b[n],c=w[n],t=n-1;t>=0;t--)for(l=b[t],f=w[t],p=M[t][n],d=A[t][n],r=x-1;r>=0;r--)g=u[r],v=c[r],l[r]-=p*g-d*v,f[r]-=p*v+d*g;return new numeric.T(b,w)},numeric.T.prototype.get=function(e){var n,t=this.x,r=this.y,i=0,o=e.length;if(r){for(;i<o;)n=e[i],t=t[n],r=r[n],i++;return new numeric.T(t,r)}for(;i<o;)n=e[i],t=t[n],i++;return new numeric.T(t)},numeric.T.prototype.set=function(e,n){var t,r=this.x,i=this.y,o=0,a=e.length,s=n.x,u=n.y;if(0===a)return u?this.y=u:i&&(this.y=void 0),this.x=r,this;if(u){for(i||(i=numeric.rep(numeric.dim(r),0),this.y=i);o<a-1;)t=e[o],r=r[t],i=i[t],o++;return t=e[o],r[t]=s,i[t]=u,this}if(i){for(;o<a-1;)t=e[o],r=r[t],i=i[t],o++;return t=e[o],r[t]=s,s instanceof Array?i[t]=numeric.rep(numeric.dim(s),0):i[t]=0,this}for(;o<a-1;)t=e[o],r=r[t],o++;return t=e[o],r[t]=s,this},numeric.T.prototype.getRows=function(e,n){var t,r,i=n-e+1,o=Array(i),a=this.x,s=this.y;for(t=e;t<=n;t++)o[t-e]=a[t];if(s){for(r=Array(i),t=e;t<=n;t++)r[t-e]=s[t];return new numeric.T(o,r)}return new numeric.T(o)},numeric.T.prototype.setRows=function(e,n,t){var r,i=this.x,o=this.y,a=t.x,s=t.y;for(r=e;r<=n;r++)i[r]=a[r-e];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),r=e;r<=n;r++)o[r]=s[r-e];else if(o)for(r=e;r<=n;r++)o[r]=numeric.rep([a[r-e].length],0);return this},numeric.T.prototype.getRow=function(e){var n=this.x,t=this.y;return t?new numeric.T(n[e],t[e]):new numeric.T(n[e])},numeric.T.prototype.setRow=function(e,n){var t=this.x,r=this.y,i=n.x,o=n.y;return t[e]=i,o?(r||(r=numeric.rep(numeric.dim(t),0),this.y=r),r[e]=o):r&&(r=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(e,n){var t=this.x,r=this.y,i=numeric.getBlock;return r?new numeric.T(i(t,e,n),i(r,e,n)):new numeric.T(i(t,e,n))},numeric.T.prototype.setBlock=function(e,n,t){t instanceof numeric.T||(t=new numeric.T(t));var r=this.x,i=this.y,o=numeric.setBlock,a=t.x,s=t.y;return s?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(r,e,n,a),o(i,e,n,s),this):(o(r,e,n,a),void(i&&o(i,e,n,numeric.rep(numeric.dim(a),0))))},numeric.T.rep=function(e,n){var t=numeric.T;n instanceof t||(n=new t(n));var r=n.x,i=n.y,o=numeric.rep;return i?new t(o(e,r),o(e,i)):new t(o(e,r))},numeric.T.diag=function s(e){e instanceof numeric.T||(e=new numeric.T(e));var n=e.x,t=e.y,s=numeric.diag;return t?new numeric.T(s(n),s(t)):new numeric.T(s(n))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,n=this.x,t=this.y;return t?new e.T(e.getDiag(n),e.getDiag(t)):new e.T(e.getDiag(n))},numeric.house=function(e){var n=numeric.clone(e),t=e[0]>=0?1:-1,r=t*numeric.norm2(e);n[0]+=r;var i=numeric.norm2(n);if(0===i)throw new Error("eig: internal error");return numeric.div(n,i)},numeric.toUpperHessenberg=function(e){var n=numeric.dim(e);if(2!==n.length||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var t,r,i,o,a,s,u,c,l,f,h=n[0],m=numeric.clone(e),p=numeric.identity(h);for(r=0;r<h-2;r++){for(o=Array(h-r-1),t=r+1;t<h;t++)o[t-r-1]=m[t][r];if(numeric.norm2(o)>0){for(a=numeric.house(o),s=numeric.getBlock(m,[r+1,r],[h-1,h-1]),u=numeric.tensor(a,numeric.dot(a,s)),t=r+1;t<h;t++)for(c=m[t],l=u[t-r-1],i=r;i<h;i++)c[i]-=2*l[i-r];for(s=numeric.getBlock(m,[0,r+1],[h-1,h-1]),u=numeric.tensor(numeric.dot(s,a),a),t=0;t<h;t++)for(c=m[t],l=u[t],i=r+1;i<h;i++)c[i]-=2*l[i-r-1];for(s=Array(h-r-1),t=r+1;t<h;t++)s[t-r-1]=p[t];for(u=numeric.tensor(a,numeric.dot(a,s)),t=r+1;t<h;t++)for(f=p[t],l=u[t-r-1],i=0;i<h;i++)f[i]-=2*l[i]}}return{H:m,Q:p}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,n){"undefined"==typeof n&&(n=1e4),e=numeric.clone(e);var t,r,i,o,a,s,u,c,l,f,h,m,p,d,g,v,y,x,b=(numeric.clone(e),numeric.dim(e)),w=b[0],M=numeric.identity(w);if(w<3)return{Q:M,B:[[0,w-1]]};var A=numeric.epsilon;for(x=0;x<n;x++){for(v=0;v<w-1;v++)if(Math.abs(e[v+1][v])<A*(Math.abs(e[v][v])+Math.abs(e[v+1][v+1]))){var k=numeric.QRFrancis(numeric.getBlock(e,[0,0],[v,v]),n),S=numeric.QRFrancis(numeric.getBlock(e,[v+1,v+1],[w-1,w-1]),n);for(m=Array(v+1),g=0;g<=v;g++)m[g]=M[g];for(p=numeric.dot(k.Q,m),g=0;g<=v;g++)M[g]=p[g];for(m=Array(w-v-1),g=v+1;g<w;g++)m[g-v-1]=M[g];for(p=numeric.dot(S.Q,m),g=v+1;g<w;g++)M[g]=p[g-v-1];return{Q:M,B:k.B.concat(numeric.add(S.B,v+1))}}if(i=e[w-2][w-2],o=e[w-2][w-1],a=e[w-1][w-2],s=e[w-1][w-1],c=i+s,u=i*s-o*a,l=numeric.getBlock(e,[0,0],[2,2]),c*c>=4*u){var j,_;j=.5*(c+Math.sqrt(c*c-4*u)),_=.5*(c-Math.sqrt(c*c-4*u)),l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,j+_)),numeric.diag(numeric.rep([3],j*_)))}else l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,c)),numeric.diag(numeric.rep([3],u)));for(t=[l[0][0],l[1][0],l[2][0]],r=numeric.house(t),m=[e[0],e[1],e[2]],p=numeric.tensor(r,numeric.dot(r,m)),g=0;g<3;g++)for(h=e[g],d=p[g],y=0;y<w;y++)h[y]-=2*d[y];for(m=numeric.getBlock(e,[0,0],[w-1,2]),p=numeric.tensor(numeric.dot(m,r),r),g=0;g<w;g++)for(h=e[g],d=p[g],y=0;y<3;y++)h[y]-=2*d[y];for(m=[M[0],M[1],M[2]],p=numeric.tensor(r,numeric.dot(r,m)),g=0;g<3;g++)for(f=M[g],d=p[g],y=0;y<w;y++)f[y]-=2*d[y];var T;for(v=0;v<w-2;v++){for(y=v;y<=v+1;y++)if(Math.abs(e[y+1][y])<A*(Math.abs(e[y][y])+Math.abs(e[y+1][y+1]))){var k=numeric.QRFrancis(numeric.getBlock(e,[0,0],[y,y]),n),S=numeric.QRFrancis(numeric.getBlock(e,[y+1,y+1],[w-1,w-1]),n);for(m=Array(y+1),g=0;g<=y;g++)m[g]=M[g];for(p=numeric.dot(k.Q,m),g=0;g<=y;g++)M[g]=p[g];for(m=Array(w-y-1),g=y+1;g<w;g++)m[g-y-1]=M[g];for(p=numeric.dot(S.Q,m),g=y+1;g<w;g++)M[g]=p[g-y-1];return{Q:M,B:k.B.concat(numeric.add(S.B,y+1))}}for(T=Math.min(w-1,v+3),t=Array(T-v),g=v+1;g<=T;g++)t[g-v-1]=e[g][v];for(r=numeric.house(t),m=numeric.getBlock(e,[v+1,v],[T,w-1]),p=numeric.tensor(r,numeric.dot(r,m)),g=v+1;g<=T;g++)for(h=e[g],d=p[g-v-1],y=v;y<w;y++)h[y]-=2*d[y-v];for(m=numeric.getBlock(e,[0,v+1],[w-1,T]),p=numeric.tensor(numeric.dot(m,r),r),g=0;g<w;g++)for(h=e[g],d=p[g],y=v+1;y<=T;y++)h[y]-=2*d[y-v-1];for(m=Array(T-v),g=v+1;g<=T;g++)m[g-v-1]=M[g];for(p=numeric.tensor(r,numeric.dot(r,m)),g=v+1;g<=T;g++)for(f=M[g],d=p[g-v-1],y=0;y<w;y++)f[y]-=2*d[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,n){var t,r,i,o,a,s,u,c,l,f,h,m,p,d,g,v,y,x=numeric.toUpperHessenberg(e),b=numeric.QRFrancis(x.H,n),w=numeric.T,M=e.length,A=b.B,k=numeric.dot(b.Q,numeric.dot(x.H,numeric.transpose(b.Q))),S=new w(numeric.dot(b.Q,x.Q)),j=A.length,_=Math.sqrt;for(r=0;r<j;r++)if(t=A[r][0],t!==A[r][1]){if(o=t+1,a=k[t][t],s=k[t][o],u=k[o][t],c=k[o][o],0===s&&0===u)continue;l=-a-c,f=a*c-s*u,h=l*l-4*f,h>=0?(m=l<0?-.5*(l-_(h)):-.5*(l+_(h)),v=(a-m)*(a-m)+s*s,y=u*u+(c-m)*(c-m),
v>y?(v=_(v),d=(a-m)/v,g=s/v):(y=_(y),d=u/y,g=(c-m)/y),i=new w([[g,-d],[d,g]]),S.setRows(t,o,i.dot(S.getRows(t,o)))):(m=-.5*l,p=.5*_(-h),v=(a-m)*(a-m)+s*s,y=u*u+(c-m)*(c-m),v>y?(v=_(v+p*p),d=(a-m)/v,g=s/v,m=0,p/=v):(y=_(y+p*p),d=u/y,g=(c-m)/y,m=p/y,p=0),i=new w([[g,-d],[d,g]],[[m,p],[p,-m]]),S.setRows(t,o,i.dot(S.getRows(t,o))))}var T=S.dot(e).dot(S.transjugate()),M=e.length,E=numeric.T.identity(M);for(o=0;o<M;o++)if(o>0)for(r=o-1;r>=0;r--){var C=T.get([r,r]),O=T.get([o,o]);numeric.neq(C.x,O.x)||numeric.neq(C.y,O.y)?(m=T.getRow(r).getBlock([r],[o-1]),p=E.getRow(o).getBlock([r],[o-1]),E.set([o,r],T.get([r,o]).neg().sub(m.dot(p)).div(C.sub(O)))):E.setRow(o,E.getRow(r))}for(o=0;o<M;o++)m=E.getRow(o),E.setRow(o,m.div(m.norm2()));return E=E.transpose(),E=S.transjugate().dot(E),{lambda:T.getDiag(),E:E}},numeric.ccsSparse=function(e){var n,t,r,i,o=e.length,a=[];for(r=o-1;r!==-1;--r){t=e[r];for(i in t){for(i=parseInt(i);i>=a.length;)a[a.length]=0;0!==t[i]&&a[i]++}}var n=a.length,s=Array(n+1);for(s[0]=0,r=0;r<n;++r)s[r+1]=s[r]+a[r];var u=Array(s[n]),c=Array(s[n]);for(r=o-1;r!==-1;--r){t=e[r];for(i in t)0!==t[i]&&(a[i]--,u[s[i]+a[i]]=r,c[s[i]+a[i]]=t[i])}return[s,u,c]},numeric.ccsFull=function(e){var n,t,r,i,o=e[0],a=e[1],s=e[2],u=numeric.ccsDim(e),c=u[0],l=u[1],f=numeric.rep([c,l],0);for(n=0;n<l;n++)for(r=o[n],i=o[n+1],t=r;t<i;++t)f[a[t]][n]=s[t];return f},numeric.ccsTSolve=function(e,n,t,r,i){function o(e){var n;if(0===t[e]){for(t[e]=1,n=a[e];n<a[e+1];++n)o(s[n]);i[f]=e,++f}}var a=e[0],s=e[1],u=e[2],c=a.length-1,l=Math.max,f=0;"undefined"==typeof r&&(t=numeric.rep([c],0)),"undefined"==typeof r&&(r=numeric.linspace(0,t.length-1)),"undefined"==typeof i&&(i=[]);var h,m,p,d,g,v,y;for(h=r.length-1;h!==-1;--h)o(r[h]);for(i.length=f,h=i.length-1;h!==-1;--h)t[i[h]]=0;for(h=r.length-1;h!==-1;--h)m=r[h],t[m]=n[m];for(h=i.length-1;h!==-1;--h){for(m=i[h],p=a[m],d=l(a[m+1],p),g=p;g!==d;++g)if(s[g]===m){t[m]/=u[g];break}for(y=t[m],g=p;g!==d;++g)v=s[g],v!==m&&(t[v]-=y*u[g])}return t},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,n,t,r,i,o){var a,s,u,c=0,l=i.length,f=this.k,h=this.k1,m=this.j;if(0===r[e])for(r[e]=1,m[0]=e,f[0]=s=n[e],h[0]=u=n[e+1];;)if(s>=u){if(i[l]=m[c],0===c)return;++l,--c,s=f[c],u=h[c]}else a=o[t[s]],0===r[a]?(r[a]=1,f[c]=s,++c,m[c]=a,s=n[a],h[c]=u=n[a+1]):++s},numeric.ccsLPSolve=function(e,n,t,r,i,o,a){var s,u,c,l,f,h,m,p,d,g=e[0],v=e[1],y=e[2],x=(g.length-1,n[0]),b=n[1],w=n[2];for(u=x[i],c=x[i+1],r.length=0,s=u;s<c;++s)a.dfs(o[b[s]],g,v,t,r,o);for(s=r.length-1;s!==-1;--s)t[r[s]]=0;for(s=u;s!==c;++s)l=o[b[s]],t[l]=w[s];for(s=r.length-1;s!==-1;--s){for(l=r[s],f=g[l],h=g[l+1],m=f;m<h;++m)if(o[v[m]]===l){t[l]/=y[m];break}for(d=t[l],m=f;m<h;++m)p=o[v[m]],p!==l&&(t[p]-=d*y[m])}return t},numeric.ccsLUP1=function(e,n){var t,r,i,o,a,s,u,c=e[0].length-1,l=[numeric.rep([c+1],0),[],[]],f=[numeric.rep([c+1],0),[],[]],h=l[0],m=l[1],p=l[2],d=f[0],g=f[1],v=f[2],y=numeric.rep([c],0),x=numeric.rep([c],0),b=numeric.ccsLPSolve,w=(Math.max,Math.abs),M=numeric.linspace(0,c-1),A=numeric.linspace(0,c-1),k=new numeric.ccsDFS(c);for("undefined"==typeof n&&(n=1),t=0;t<c;++t){for(b(l,e,y,x,t,A,k),o=-1,a=-1,r=x.length-1;r!==-1;--r)i=x[r],i<=t||(s=w(y[i]),s>o&&(a=i,o=s));for(w(y[t])<n*o&&(r=M[t],o=M[a],M[t]=o,A[o]=t,M[a]=r,A[r]=a,o=y[t],y[t]=y[a],y[a]=o),o=h[t],a=d[t],u=y[t],m[o]=M[t],p[o]=1,++o,r=x.length-1;r!==-1;--r)i=x[r],s=y[i],x[r]=0,y[i]=0,i<=t?(g[a]=i,v[a]=s,++a):(m[o]=M[i],p[o]=s/u,++o);h[t+1]=o,d[t+1]=a}for(r=m.length-1;r!==-1;--r)m[r]=A[m[r]];return{L:l,U:f,P:M,Pinv:A}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,n,t,r,i,o,a){var s,u,c,l=0,f=i.length,h=this.k,m=this.k1,p=this.j;if(0===r[e])for(r[e]=1,p[0]=e,h[0]=u=n[o[e]],m[0]=c=n[o[e]+1];;){if(isNaN(u))throw new Error("Ow!");if(u>=c){if(i[f]=o[p[l]],0===l)return;++f,--l,u=h[l],c=m[l]}else s=t[u],0===r[s]?(r[s]=1,h[l]=u,++l,p[l]=s,s=o[s],u=n[s],m[l]=c=n[s+1]):++u}},numeric.ccsLPSolve0=function(e,n,t,r,i,o,a,s){var u,c,l,f,h,m,p,d,g,v=e[0],y=e[1],x=e[2],b=(v.length-1,n[0]),w=n[1],M=n[2];for(c=b[i],l=b[i+1],r.length=0,u=c;u<l;++u)s.dfs(w[u],v,y,t,r,o,a);for(u=r.length-1;u!==-1;--u)f=r[u],t[a[f]]=0;for(u=c;u!==l;++u)f=w[u],t[f]=M[u];for(u=r.length-1;u!==-1;--u){for(f=r[u],d=a[f],h=v[f],m=v[f+1],p=h;p<m;++p)if(y[p]===d){t[d]/=x[p];break}for(g=t[d],p=h;p<m;++p)t[y[p]]-=g*x[p];t[d]=g}},numeric.ccsLUP0=function(e,n){var t,r,i,o,a,s,u,c=e[0].length-1,l=[numeric.rep([c+1],0),[],[]],f=[numeric.rep([c+1],0),[],[]],h=l[0],m=l[1],p=l[2],d=f[0],g=f[1],v=f[2],y=numeric.rep([c],0),x=numeric.rep([c],0),b=numeric.ccsLPSolve0,w=(Math.max,Math.abs),M=numeric.linspace(0,c-1),A=numeric.linspace(0,c-1),k=new numeric.ccsDFS0(c);for("undefined"==typeof n&&(n=1),t=0;t<c;++t){for(b(l,e,y,x,t,A,M,k),o=-1,a=-1,r=x.length-1;r!==-1;--r)i=x[r],i<=t||(s=w(y[M[i]]),s>o&&(a=i,o=s));for(w(y[M[t]])<n*o&&(r=M[t],o=M[a],M[t]=o,A[o]=t,M[a]=r,A[r]=a),o=h[t],a=d[t],u=y[M[t]],m[o]=M[t],p[o]=1,++o,r=x.length-1;r!==-1;--r)i=x[r],s=y[M[i]],x[r]=0,y[M[i]]=0,i<=t?(g[a]=i,v[a]=s,++a):(m[o]=M[i],p[o]=s/u,++o);h[t+1]=o,d[t+1]=a}for(r=m.length-1;r!==-1;--r)m[r]=A[m[r]];return{L:l,U:f,P:M,Pinv:A}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,n,t){var r=numeric.ccsDim(e),i=r[0],o=r[1];"undefined"==typeof n?n=numeric.linspace(0,i-1):"number"==typeof n&&(n=[n]),"undefined"==typeof t?t=numeric.linspace(0,o-1):"number"==typeof t&&(t=[t]);var a,s,u,c,l,f=n.length,h=t.length,m=numeric.rep([o],0),p=[],d=[],g=[m,p,d],v=e[0],y=e[1],x=e[2],b=numeric.rep([i],0),w=0,M=numeric.rep([i],0);for(s=0;s<h;++s){c=t[s];var A=v[c],k=v[c+1];for(a=A;a<k;++a)u=y[a],M[u]=1,b[u]=x[a];for(a=0;a<f;++a)l=n[a],M[l]&&(p[w]=a,d[w]=b[n[a]],++w);for(a=A;a<k;++a)u=y[a],M[u]=0;m[s+1]=w}return g},numeric.ccsDot=function(e,n){var t,r,i,o,a,s,u,c,l,f,h,m=e[0],p=e[1],d=e[2],g=n[0],v=n[1],y=n[2],x=numeric.ccsDim(e),b=numeric.ccsDim(n),w=x[0],M=(x[1],b[1]),A=numeric.rep([w],0),k=numeric.rep([w],0),S=Array(w),j=numeric.rep([M],0),_=[],T=[],E=[j,_,T];for(i=0;i!==M;++i){for(o=g[i],a=g[i+1],l=0,r=o;r<a;++r)for(f=v[r],h=y[r],s=m[f],u=m[f+1],t=s;t<u;++t)c=p[t],0===k[c]&&(S[l]=c,k[c]=1,l+=1),A[c]=A[c]+d[t]*h;for(o=j[i],a=o+l,j[i+1]=a,r=l-1;r!==-1;--r)h=o+r,t=S[r],_[h]=t,T[h]=A[t],k[t]=0,A[t]=0;j[i+1]=j[i]+l}return E},numeric.ccsLUPSolve=function(e,n){var t=e.L,r=e.U,i=(e.P,n[0]),o=!1;"object"!=typeof i&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],i=n[0],o=!0);var a,s,u,c,l,f,h=n[1],m=n[2],p=t[0].length-1,d=i.length-1,g=numeric.rep([p],0),v=Array(p),y=numeric.rep([p],0),x=Array(p),b=numeric.rep([d+1],0),w=[],M=[],A=numeric.ccsTSolve,k=0;for(a=0;a<d;++a){for(l=0,u=i[a],c=i[a+1],s=u;s<c;++s)f=e.Pinv[h[s]],x[l]=f,y[f]=m[s],++l;for(x.length=l,A(t,y,g,x,v),s=x.length-1;s!==-1;--s)y[x[s]]=0;if(A(r,g,y,v,x),o)return y;for(s=v.length-1;s!==-1;--s)g[v[s]]=0;for(s=x.length-1;s!==-1;--s)f=x[s],w[k]=f,M[k]=y[f],y[f]=0,++k;b[a+1]=k}return[b,w,M]},numeric.ccsbinop=function(e,n){return"undefined"==typeof n&&(n=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+n+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+e+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(e){var n,t=e[0],r=e[1],i=e[2],o=numeric.sup(r)+1,a=t.length,s=numeric.rep([o],0),u=Array(a),c=Array(a),l=numeric.rep([o],0);for(n=0;n<a;++n)l[r[n]]++;for(n=0;n<o;++n)s[n+1]=s[n]+l[n];var f,h,m=s.slice(0);for(n=0;n<a;++n)h=r[n],f=m[h],u[f]=t[n],c[f]=i[n],m[h]=m[h]+1;return[s,u,c]},numeric.ccsGather=function(e){var n,t,r,i,o,a=e[0],s=e[1],u=e[2],c=a.length-1,l=s.length,f=Array(l),h=Array(l),m=Array(l);for(o=0,n=0;n<c;++n)for(r=a[n],i=a[n+1],t=r;t!==i;++t)h[o]=n,f[o]=s[t],m[o]=u[t],++o;return[f,h,m]},numeric.sdim=function u(e,n,t){if("undefined"==typeof n&&(n=[]),"object"!=typeof e)return n;"undefined"==typeof t&&(t=0),t in n||(n[t]=0),e.length>n[t]&&(n[t]=e.length);var r;for(r in e)e.hasOwnProperty(r)&&u(e[r],n,t+1);return n},numeric.sclone=function c(e,n,t){"undefined"==typeof n&&(n=0),"undefined"==typeof t&&(t=numeric.sdim(e).length);var r,i=Array(e.length);if(n===t-1){for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}for(r in e)e.hasOwnProperty(r)&&(i[r]=c(e[r],n+1,t));return i},numeric.sdiag=function(e){var n,t,r=e.length,i=Array(r);for(n=r-1;n>=1;n-=2)t=n-1,i[n]=[],i[n][n]=e[n],i[t]=[],i[t][t]=e[t];return 0===n&&(i[0]=[],i[0][0]=e[n]),i},numeric.sidentity=function(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function(e){var n,t,r,i=[];e.length;for(n in e)if(e.hasOwnProperty(n)){r=e[n];for(t in r)r.hasOwnProperty(t)&&("object"!=typeof i[t]&&(i[t]=[]),i[t][n]=r[t])}return i},numeric.sLUP=function(e,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(e,n){var t,r,i,o,a,s,u,c=e.length,l=(n.length,numeric.stranspose(n)),f=l.length,h=Array(c);for(i=c-1;i>=0;i--){for(u=[],t=e[i],a=f-1;a>=0;a--){s=0,r=l[a];for(o in t)t.hasOwnProperty(o)&&o in r&&(s+=t[o]*r[o]);s&&(u[a]=s)}h[i]=u}return h},numeric.sdotMV=function(e,n){var t,r,i,o,a=e.length,s=Array(a);for(r=a-1;r>=0;r--){t=e[r],o=0;for(i in t)t.hasOwnProperty(i)&&n[i]&&(o+=t[i]*n[i]);o&&(s[r]=o)}return s},numeric.sdotVM=function(e,n){var t,r,i,o,a=[];for(t in e)if(e.hasOwnProperty(t)){i=n[t],o=e[t];for(r in i)i.hasOwnProperty(r)&&(a[r]||(a[r]=0),a[r]+=o*i[r])}return a},numeric.sdotVV=function(e,n){var t,r=0;for(t in e)e[t]&&n[t]&&(r+=e[t]*n[t]);return r},numeric.sdot=function(e,n){var t=numeric.sdim(e).length,r=numeric.sdim(n).length,i=1e3*t+r;switch(i){case 0:return e*n;case 1001:return numeric.sdotVV(e,n);case 2001:return numeric.sdotMV(e,n);case 1002:return numeric.sdotVM(e,n);case 2002:return numeric.sdotMM(e,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+t+" and "+r)}},numeric.sscatter=function(e){var n,t,r,i,o=e[0].length,a=e.length,s=[];for(t=o-1;t>=0;--t)if(e[a-1][t]){for(i=s,r=0;r<a-2;r++)n=e[r][t],i[n]||(i[n]=[]),i=i[n];i[e[r][t]]=e[r+1][t]}return s},numeric.sgather=function l(e,n,t){"undefined"==typeof n&&(n=[]),"undefined"==typeof t&&(t=[]);var r,i,o;r=t.length;for(i in e)if(e.hasOwnProperty(i))if(t[r]=parseInt(i),o=e[i],"number"==typeof o){if(o){if(0===n.length)for(i=r+1;i>=0;--i)n[i]=[];for(i=r;i>=0;--i)n[i].push(t[i]);n[r+1].push(o)}}else l(o,n,t);return t.length>r&&t.pop(),n},numeric.cLU=function(e){var n,t,r,i,o,a,s=e[0],u=e[1],c=e[2],l=s.length,f=0;for(n=0;n<l;n++)s[n]>f&&(f=s[n]);f++;var h,m,p,d=Array(f),g=Array(f),v=numeric.rep([f],1/0),y=numeric.rep([f],-(1/0));for(r=0;r<l;r++)n=s[r],t=u[r],t<v[n]&&(v[n]=t),t>y[n]&&(y[n]=t);for(n=0;n<f-1;n++)y[n]>y[n+1]&&(y[n+1]=y[n]);for(n=f-1;n>=1;n--)v[n]<v[n-1]&&(v[n-1]=v[n]);var x=0,b=0;for(n=0;n<f;n++)g[n]=numeric.rep([y[n]-v[n]+1],0),d[n]=numeric.rep([n-v[n]],0),x+=n-v[n]+1,b+=y[n]-n+1;for(r=0;r<l;r++)n=s[r],g[n][u[r]-v[n]]=c[r];for(n=0;n<f-1;n++)for(i=n-v[n],h=g[n],t=n+1;v[t]<=n&&t<f;t++)if(o=n-v[t],a=y[n]-n,m=g[t],p=m[o]/h[i],p){for(r=1;r<=a;r++)m[r+o]-=p*h[r+i];d[t][n-v[t]]=p}var l,w,M,h=[],m=[],A=[],k=[],S=[],j=[];for(l=0,w=0,n=0;n<f;n++){for(i=v[n],o=y[n],M=g[n],t=n;t<=o;t++)M[t-i]&&(h[l]=n,m[l]=t,A[l]=M[t-i],l++);for(M=d[n],t=i;t<n;t++)M[t-i]&&(k[w]=n,S[w]=t,j[w]=M[t-i],w++);k[w]=n,S[w]=n,j[w]=1,w++}return{U:[h,m,A],L:[k,S,j]}},numeric.cLUsolve=function(e,n){var t,r,i=e.L,o=e.U,a=numeric.clone(n),s=i[0],u=i[1],c=i[2],l=o[0],f=o[1],h=o[2],m=l.length,p=(s.length,a.length);for(r=0,t=0;t<p;t++){for(;u[r]<t;)a[t]-=c[r]*a[u[r]],r++;r++}for(r=m-1,t=p-1;t>=0;t--){for(;f[r]>t;)a[t]-=h[r]*a[f[r]],r--;a[t]/=h[r],r--}return a},numeric.cgrid=function(e,n){"number"==typeof e&&(e=[e,e]);var t,r,i,o=numeric.rep(e,-1);if("function"!=typeof n)switch(n){case"L":n=function(n,t){return n>=e[0]/2||t<e[1]/2};break;default:n=function(e,n){return!0}}for(i=0,t=1;t<e[0]-1;t++)for(r=1;r<e[1]-1;r++)n(t,r)&&(o[t][r]=i,i++);return o},numeric.cdelsq=function(e){var n,t,r,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(e),u=s[0],c=s[1],l=[],f=[],h=[];for(n=1;n<u-1;n++)for(t=1;t<c-1;t++)if(!(e[n][t]<0)){for(r=0;r<4;r++)i=n+a[r][0],o=t+a[r][1],e[i][o]<0||(l.push(e[n][t]),f.push(e[i][o]),h.push(-1));l.push(e[n][t]),f.push(e[n][t]),h.push(4)}return[l,f,h]},numeric.cdotMV=function(e,n){var t,r,i,o=e[0],a=e[1],s=e[2],u=o.length;for(i=0,r=0;r<u;r++)o[r]>i&&(i=o[r]);for(i++,t=numeric.rep([i],0),r=0;r<u;r++)t[o[r]]+=s[r]*n[a[r]];return t},numeric.Spline=function(e,n,t,r,i){this.x=e,this.yl=n,this.yr=t,this.kl=r,this.kr=i},numeric.Spline.prototype._at=function(e,n){var e,t,r,i,o=this.x,a=this.yl,s=this.yr,u=this.kl,c=this.kr,l=numeric.add,f=numeric.sub,h=numeric.mul;t=f(h(u[n],o[n+1]-o[n]),f(s[n+1],a[n])),r=l(h(c[n+1],o[n]-o[n+1]),f(s[n+1],a[n])),i=(e-o[n])/(o[n+1]-o[n]);var m=i*(1-i);return l(l(l(h(1-i,a[n]),h(i,s[n+1])),h(t,m*(1-i))),h(r,m*i))},numeric.Spline.prototype.at=function(e){if("number"==typeof e){var n,t,r,i=this.x,o=i.length,a=Math.floor;for(n=0,t=o-1;t-n>1;)r=a((n+t)/2),i[r]<=e?n=r:t=r;return this._at(e,n)}var s,o=e.length,u=Array(o);for(s=o-1;s!==-1;--s)u[s]=this.at(e[s]);return u},numeric.Spline.prototype.diff=function(){var e,n,t,r=this.x,i=this.yl,o=this.yr,a=this.kl,s=this.kr,u=i.length,c=a,l=s,f=Array(u),h=Array(u),m=numeric.add,p=numeric.mul,d=numeric.div,g=numeric.sub;for(e=u-1;e!==-1;--e)n=r[e+1]-r[e],t=g(o[e+1],i[e]),f[e]=d(m(p(t,6),p(a[e],-4*n),p(s[e+1],-2*n)),n*n),h[e+1]=d(m(p(t,-6),p(a[e],2*n),p(s[e+1],4*n)),n*n);return new numeric.Spline(r,c,l,f,h)},numeric.Spline.prototype.roots=function(){function e(e){return e*e}var n=[],t=this.x,r=this.yl,i=this.yr,o=this.kl,a=this.kr;"number"==typeof r[0]&&(r=[r],i=[i],o=[o],a=[a]);var s,u,c,l,f,h,m,p,d,g,v,y,x,b,w,M,A,k,S,j,_,T,E,C,O=r.length,L=t.length-1,n=Array(O),P=Math.sqrt;for(s=0;s!==O;++s){for(l=r[s],f=i[s],h=o[s],m=a[s],p=[],u=0;u!==L;u++){for(u>0&&f[u]*l[u]<0&&p.push(t[u]),M=t[u+1]-t[u],A=t[u],v=l[u],y=f[u+1],d=h[u]/M,g=m[u+1]/M,w=e(d-g+3*(v-y))+12*g*v,x=g+3*v+2*d-3*y,b=3*(g+d+2*(v-y)),w<=0?(S=x/b,k=S>t[u]&&S<t[u+1]?[t[u],S,t[u+1]]:[t[u],t[u+1]]):(S=(x-P(w))/b,j=(x+P(w))/b,k=[t[u]],S>t[u]&&S<t[u+1]&&k.push(S),j>t[u]&&j<t[u+1]&&k.push(j),k.push(t[u+1])),T=k[0],S=this._at(T,u),c=0;c<k.length-1;c++)if(E=k[c+1],j=this._at(E,u),0!==S)if(0===j||S*j>0)T=E,S=j;else{for(var N=0;C=(S*E-j*T)/(S-j),!(C<=T||C>=E);)if(_=this._at(C,u),_*j>0)E=C,j=_,N===-1&&(S*=.5),N=-1;else{if(!(_*S>0))break;T=C,S=_,1===N&&(j*=.5),N=1}p.push(C),T=k[c+1],S=this._at(T,u)}else p.push(T),T=E,S=j;0===j&&p.push(E)}n[s]=p}return"number"==typeof this.yl[0]?n[0]:n},numeric.spline=function(e,n,t,r){var i,o=e.length,a=[],s=[],u=[],c=numeric.sub,l=numeric.mul,f=numeric.add;for(i=o-2;i>=0;i--)s[i]=e[i+1]-e[i],u[i]=c(n[i+1],n[i]);"string"!=typeof t&&"string"!=typeof r||(t=r="periodic");var h=[[],[],[]];switch(typeof t){case"undefined":a[0]=l(3/(s[0]*s[0]),u[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/s[0],1/s[0]);break;case"string":a[0]=f(l(3/(s[o-2]*s[o-2]),u[o-2]),l(3/(s[0]*s[0]),u[0])),h[0].push(0,0,0),h[1].push(o-2,0,1),h[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:a[0]=t,h[0].push(0),h[1].push(0),h[2].push(1)}for(i=1;i<o-1;i++)a[i]=f(l(3/(s[i-1]*s[i-1]),u[i-1]),l(3/(s[i]*s[i]),u[i])),h[0].push(i,i,i),h[1].push(i-1,i,i+1),h[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof r){case"undefined":a[o-1]=l(3/(s[o-2]*s[o-2]),u[o-2]),h[0].push(o-1,o-1),h[1].push(o-2,o-1),h[2].push(1/s[o-2],2/s[o-2]);break;case"string":h[1][h[1].length-1]=0;break;default:a[o-1]=r,h[0].push(o-1),h[1].push(o-1),h[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var m=Array(a.length);if("string"==typeof t)for(i=m.length-1;i!==-1;--i)m[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),a[i]),m[i][o-1]=m[i][0];else for(i=m.length-1;i!==-1;--i)m[i]=numeric.cLUsolve(numeric.cLU(h),a[i]);return m="number"==typeof n[0]?m[0]:numeric.transpose(m),new numeric.Spline(e,n,n,m,m)},numeric.fftpow2=function f(e,n){var t=e.length;if(1!==t){var r,i,o=Math.cos,a=Math.sin,s=Array(t/2),u=Array(t/2),c=Array(t/2),l=Array(t/2);for(i=t/2,r=t-1;r!==-1;--r)--i,c[i]=e[r],l[i]=n[r],--r,s[i]=e[r],u[i]=n[r];f(s,u),f(c,l),i=t/2;var h,m,p,d=-6.283185307179586/t;for(r=t-1;r!==-1;--r)--i,i===-1&&(i=t/2-1),h=d*r,m=o(h),p=a(h),e[r]=s[i]+m*c[i]-p*l[i],n[r]=u[i]+m*l[i]+p*c[i]}},numeric._ifftpow2=function h(e,n){var t=e.length;if(1!==t){var r,i,o=Math.cos,a=Math.sin,s=Array(t/2),u=Array(t/2),c=Array(t/2),l=Array(t/2);for(i=t/2,r=t-1;r!==-1;--r)--i,c[i]=e[r],l[i]=n[r],--r,s[i]=e[r],u[i]=n[r];h(s,u),h(c,l),i=t/2;var f,m,p,d=6.283185307179586/t;for(r=t-1;r!==-1;--r)--i,i===-1&&(i=t/2-1),f=d*r,m=o(f),p=a(f),e[r]=s[i]+m*c[i]-p*l[i],n[r]=u[i]+m*l[i]+p*c[i]}},numeric.ifftpow2=function(e,n){numeric._ifftpow2(e,n),numeric.diveq(e,e.length),numeric.diveq(n,n.length)},numeric.convpow2=function(e,n,t,r){numeric.fftpow2(e,n),numeric.fftpow2(t,r);var i,o,a,s,u,c=e.length;for(i=c-1;i!==-1;--i)o=e[i],s=n[i],a=t[i],u=r[i],e[i]=o*a-s*u,n[i]=o*u+s*a;numeric.ifftpow2(e,n)},numeric.T.prototype.fft=function(){var e,n,t=this.x,r=this.y,i=t.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),f=Math.cos,h=Math.sin,m=-3.141592653589793/i,p=numeric.rep([u],0),d=numeric.rep([u],0);Math.floor(i/2);for(e=0;e<i;e++)p[e]=t[e];if("undefined"!=typeof r)for(e=0;e<i;e++)d[e]=r[e];for(c[0]=1,e=1;e<=u/2;e++)n=m*e*e,c[e]=f(n),l[e]=h(n),c[u-e]=f(n),l[u-e]=h(n);var g=new numeric.T(p,d),v=new numeric.T(c,l);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),g=g.mul(v),g.x.length=i,g.y.length=i,g},numeric.T.prototype.ifft=function(){var e,n,t=this.x,r=this.y,i=t.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),f=Math.cos,h=Math.sin,m=3.141592653589793/i,p=numeric.rep([u],0),d=numeric.rep([u],0);Math.floor(i/2);for(e=0;e<i;e++)p[e]=t[e];if("undefined"!=typeof r)for(e=0;e<i;e++)d[e]=r[e];for(c[0]=1,e=1;e<=u/2;e++)n=m*e*e,c[e]=f(n),l[e]=h(n),c[u-e]=f(n),l[u-e]=h(n);var g=new numeric.T(p,d),v=new numeric.T(c,l);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),g=g.mul(v),g.x.length=i,g.y.length=i,g.div(i)},numeric.gradient=function(e,n){var t=n.length,r=e(n);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");var i,o,a,s,u,c,l,f,h,m,p=Math.max,d=numeric.clone(n),g=Array(t),p=(numeric.div,numeric.sub,Math.max),v=.001,y=Math.abs,x=Math.min,b=0;for(i=0;i<t;i++)for(var w=p(1e-6*r,1e-8);;){if(++b,b>20)throw new Error("Numerical gradient fails");if(d[i]=n[i]+w,o=e(d),d[i]=n[i]-w,a=e(d),d[i]=n[i],isNaN(o)||isNaN(a))w/=16;else{if(g[i]=(o-a)/(2*w),u=n[i]-w,c=n[i],l=n[i]+w,f=(o-r)/w,h=(r-a)/w,m=p(y(g[i]),y(r),y(o),y(a),y(u),y(c),y(l),1e-8),s=x(p(y(f-g[i]),y(h-g[i]),y(f-h))/m,w/m),!(s>v))break;w/=16}}return g},numeric.uncmin=function(e,n,t,r,i,o,a){var s=numeric.gradient;"undefined"==typeof a&&(a={}),"undefined"==typeof t&&(t=1e-8),"undefined"==typeof r&&(r=function(n){return s(e,n)}),"undefined"==typeof i&&(i=1e3),n=numeric.clone(n);var u,c,l=n.length,f=e(n);if(isNaN(f))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,m=numeric.norm2;t=h(t,numeric.epsilon);var p,d,g,v,y,x,b,w,M,A,k=a.Hinv||numeric.identity(l),S=numeric.dot,j=(numeric.inv,numeric.sub),_=numeric.add,T=numeric.tensor,E=numeric.div,C=numeric.mul,O=numeric.all,L=numeric.isFinite,P=numeric.neg,N=0,z="";for(d=r(n);N<i;){if("function"==typeof o&&o(N,n,f,d,k)){z="Callback returned true";break}if(!O(L(d))){z="Gradient has Infinity or NaN";break}if(p=P(S(k,d)),!O(L(p))){z="Search direction has Infinity or NaN";break}if(A=m(p),A<t){z="Newton step smaller than tol";break}for(M=1,c=S(d,p),y=n;N<i&&!(M*A<t)&&(v=C(p,M),y=_(n,v),u=e(y),u-f>=.1*M*c||isNaN(u));)M*=.5,++N;if(M*A<t){z="Line search step size smaller than tol";break}if(N===i){z="maxit reached during line search";break}g=r(y),x=j(g,d),w=S(x,v),b=S(k,x),k=j(_(k,C((w+S(x,b))/(w*w),T(v,v))),E(_(T(b,v),T(v,b)),w)),n=y,f=u,d=g,++N}return{solution:n,f:f,gradient:d,invHessian:k,iterations:N,message:z}},numeric.Dopri=function(e,n,t,r,i,o,a){this.x=e,this.y=n,this.f=t,this.ymid=r,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(e,n){function t(e){return e*e}var r,i,o,a,s,u,e,c,l,f,h,m=this,p=m.x,d=m.y,g=m.f,v=m.ymid,y=(p.length,Math.floor,.5),x=numeric.add,b=numeric.mul,w=numeric.sub;return r=p[n],i=p[n+1],a=d[n],s=d[n+1],c=i-r,o=r+y*c,u=v[n],l=w(g[n],b(a,1/(r-o)+2/(r-i))),f=w(g[n+1],b(s,1/(i-o)+2/(i-r))),h=[t(e-i)*(e-o)/t(r-i)/(r-o),t(e-r)*t(e-i)/t(r-o)/t(i-o),t(e-r)*(e-o)/t(i-r)/(i-o),(e-r)*t(e-i)*(e-o)/t(r-i)/(r-o),(e-i)*t(e-r)*(e-o)/t(r-i)/(i-o)],x(x(x(x(b(a,h[0]),b(u,h[1])),b(s,h[2])),b(l,h[3])),b(f,h[4]))},numeric.Dopri.prototype.at=function(e){var n,t,r,i=Math.floor;if("number"!=typeof e){var o=e.length,a=Array(o);for(n=o-1;n!==-1;--n)a[n]=this.at(e[n]);return a}var s=this.x;for(n=0,t=s.length-1;t-n>1;)r=i(.5*(n+t)),s[r]<=e?n=r:t=r;return this._at(e,n)},numeric.dopri=function(e,n,t,r,i,o,a){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof o&&(o=1e3);var s,u,c,l,f,h,m,p,d,g,v,y,x,b=[e],w=[t],M=[r(e,t)],A=[],k=.2,S=[.075,.225],j=[44/45,-56/15,32/9],_=[19372/6561,-25360/2187,64448/6561,-212/729],T=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],E=[35/384,0,500/1113,125/192,-2187/6784,11/84],C=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],O=[.2,.3,.8,8/9,1,1],L=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],P=0,N=(n-e)/10,z=0,V=numeric.add,B=numeric.mul,F=(Math.max,Math.min),q=Math.abs,I=numeric.norminf,D=Math.pow,U=numeric.any,X=numeric.lt,Y=numeric.and,R=(numeric.sub,new numeric.Dopri(b,w,M,A,(-1),""));for("function"==typeof a&&(v=a(e,t));e<n&&z<o;)if(++z,e+N>n&&(N=n-e),s=r(e+O[0]*N,V(t,B(k*N,M[P]))),u=r(e+O[1]*N,V(V(t,B(S[0]*N,M[P])),B(S[1]*N,s))),c=r(e+O[2]*N,V(V(V(t,B(j[0]*N,M[P])),B(j[1]*N,s)),B(j[2]*N,u))),l=r(e+O[3]*N,V(V(V(V(t,B(_[0]*N,M[P])),B(_[1]*N,s)),B(_[2]*N,u)),B(_[3]*N,c))),f=r(e+O[4]*N,V(V(V(V(V(t,B(T[0]*N,M[P])),B(T[1]*N,s)),B(T[2]*N,u)),B(T[3]*N,c)),B(T[4]*N,l))),d=V(V(V(V(V(t,B(M[P],N*E[0])),B(u,N*E[2])),B(c,N*E[3])),B(l,N*E[4])),B(f,N*E[5])),h=r(e+N,d),m=V(V(V(V(V(B(M[P],N*L[0]),B(u,N*L[2])),B(c,N*L[3])),B(l,N*L[4])),B(f,N*L[5])),B(h,N*L[6])),g="number"==typeof m?q(m):I(m),g>i){if(N=.2*N*D(i/g,.25),e+N===e){R.msg="Step size became too small";break}}else{if(A[P]=V(V(V(V(V(V(t,B(M[P],N*C[0])),B(u,N*C[2])),B(c,N*C[3])),B(l,N*C[4])),B(f,N*C[5])),B(h,N*C[6])),++P,b[P]=e+N,w[P]=d,M[P]=h,"function"==typeof a){var H,G,Q=e,$=e+.5*N;if(y=a($,A[P-1]),x=Y(X(v,0),X(0,y)),U(x)||(Q=$,$=e+N,v=y,y=a($,d),x=Y(X(v,0),X(0,y))),U(x)){for(var Z,W,J=0,K=1,ee=1;;){if("number"==typeof v)G=(ee*y*Q-K*v*$)/(ee*y-K*v);else for(G=$,p=v.length-1;p!==-1;--p)v[p]<0&&y[p]>0&&(G=F(G,(ee*y[p]*Q-K*v[p]*$)/(ee*y[p]-K*v[p])));if(G<=Q||G>=$)break;H=R._at(G,P-1),W=a(G,H),Z=Y(X(v,0),X(0,W)),U(Z)?($=G,y=W,x=Z,ee=1,J===-1?K*=.5:K=1,J=-1):(Q=G,v=W,K=1,1===J?ee*=.5:ee=1,J=1)}return d=R._at(.5*(e+G),P-1),R.f[P]=r(G,H),R.x[P]=G,R.y[P]=H,R.ymid[P-1]=d,R.events=x,R.iterations=z,R}}e+=N,t=d,v=y,N=F(.8*N*D(i/g,.25),4*N)}return R.iterations=z,R},numeric.LU=function(e,n){n=n||!1;var t,r,i,o,a,s,u,c,l,f=Math.abs,h=e.length,m=h-1,p=new Array(h);for(n||(e=numeric.clone(e)),i=0;i<h;++i){for(u=i,s=e[i],l=f(s[i]),r=i+1;r<h;++r)o=f(e[r][i]),l<o&&(l=o,u=r);for(p[i]=u,u!=i&&(e[i]=e[u],e[u]=s,s=e[i]),a=s[i],t=i+1;t<h;++t)e[t][i]/=a;for(t=i+1;t<h;++t){for(c=e[t],r=i+1;r<m;++r)c[r]-=c[i]*s[r],++r,c[r]-=c[i]*s[r];r===m&&(c[r]-=c[i]*s[r])}}return{LU:e,P:p}},numeric.LUsolve=function(e,n){var t,r,i,o,a,s=e.LU,u=s.length,c=numeric.clone(n),l=e.P;for(t=u-1;t!==-1;--t)c[t]=n[t];for(t=0;t<u;++t)for(i=l[t],l[t]!==t&&(a=c[t],c[t]=c[i],c[i]=a),o=s[t],r=0;r<t;++r)c[t]-=c[r]*o[r];for(t=u-1;t>=0;--t){for(o=s[t],r=t+1;r<u;++r)c[t]-=c[r]*o[r];c[t]/=o[t]}return c},numeric.solve=function(e,n,t){return numeric.LUsolve(numeric.LU(e,t),n)},numeric.echelonize=function(e){var n,t,r,i,o,a,s,u,c=numeric.dim(e),l=c[0],f=c[1],h=numeric.identity(l),m=Array(l),p=Math.abs,d=numeric.diveq;for(e=numeric.clone(e),n=0;n<l;++n){for(r=0,o=e[n],a=h[n],t=1;t<f;++t)p(o[r])<p(o[t])&&(r=t);for(m[n]=r,d(a,o[r]),d(o,o[r]),t=0;t<l;++t)if(t!==n){for(s=e[t],u=s[r],i=f-1;i!==-1;--i)s[i]-=o[i]*u;for(s=h[t],i=l-1;i!==-1;--i)s[i]-=a[i]*u}}return{I:h,A:e,P:m}},numeric.__solveLP=function(e,n,t,r,i,o,a){var s,u,c,l,f=numeric.sum,h=(numeric.log,numeric.mul),m=numeric.sub,p=numeric.dot,d=numeric.div,g=numeric.add,v=e.length,y=t.length,x=!1,b=0,w=1,M=(numeric.transpose(n),numeric.svd,numeric.transpose),A=(numeric.leq,Math.sqrt),k=Math.abs,S=(numeric.muleq,numeric.norminf,numeric.any,Math.min),j=numeric.all,_=numeric.gt,T=Array(v),E=Array(y),C=(numeric.rep([y],1),numeric.solve),O=m(t,p(n,o)),L=p(e,e);for(c=b;c<i;++c){var P,N;for(P=y-1;P!==-1;--P)E[P]=d(n[P],O[P]);var z=M(E);for(P=v-1;P!==-1;--P)T[P]=f(z[P]);w=.25*k(L/p(e,T));var V=100*A(L/p(T,T));for((!isFinite(w)||w>V)&&(w=V),l=g(e,h(w,T)),u=p(z,E),P=v-1;P!==-1;--P)u[P][P]+=1;N=C(u,d(l,w),!0);var B=d(O,p(n,N)),F=1;for(P=y-1;P!==-1;--P)B[P]<0&&(F=S(F,-.999*B[P]));if(s=m(o,h(N,F)),O=m(t,p(n,s)),!j(_(O,0)))return{solution:o,message:"",iterations:c};if(o=s,w<r)return{solution:s,message:"",iterations:c};if(a){var q=p(e,l),I=p(n,l);for(x=!0,P=y-1;P!==-1;--P)if(q*I[P]<0){x=!1;break}}else x=!(o[v-1]>=0);if(x)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(e,n,t,r,i){var o,a=e.length,s=t.length,u=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,l=(numeric.div,numeric.add,numeric.rep([a],0).concat([1])),f=numeric.rep([s,1],-1),h=numeric.blockMatrix([[n,f]]),m=t,o=numeric.rep([a],0).concat(Math.max(0,numeric.sup(numeric.neg(t)))+1),p=numeric.__solveLP(l,h,m,r,i,o,!1),d=numeric.clone(p.solution);d.length=a;var g=numeric.inf(u(t,c(n,d)));if(g<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var v=numeric.__solveLP(e,n,t,r,i-p.iterations,d,!0);return v.iterations+=p.iterations,v},numeric.solveLP=function(e,n,t,r,i,o,a){if("undefined"==typeof a&&(a=1e3),"undefined"==typeof o&&(o=numeric.epsilon),"undefined"==typeof r)return numeric._solveLP(e,n,t,o,a);var s,u=r.length,c=r[0].length,l=n.length,f=numeric.echelonize(r),h=numeric.rep([c],0),m=f.P,p=[];for(s=m.length-1;s!==-1;--s)h[m[s]]=1;for(s=c-1;s!==-1;--s)0===h[s]&&p.push(s);var d=numeric.getRange,g=numeric.linspace(0,u-1),v=numeric.linspace(0,l-1),y=d(r,g,p),x=d(n,v,m),b=d(n,v,p),w=numeric.dot,M=numeric.sub,A=w(x,f.I),k=M(b,w(A,y)),S=M(t,w(A,i)),j=Array(m.length),_=Array(p.length);for(s=m.length-1;s!==-1;--s)j[s]=e[m[s]];for(s=p.length-1;s!==-1;--s)_[s]=e[p[s]];var T=M(_,w(j,w(f.I,y))),E=numeric._solveLP(T,k,S,o,a),C=E.solution;if(C!==C)return E;var O=w(f.I,M(i,w(y,C))),L=Array(e.length);for(s=m.length-1;s!==-1;--s)L[m[s]]=O[s];for(s=p.length-1;s!==-1;--s)L[p[s]]=C[s];return{solution:L,message:E.message,iterations:E.iterations}},numeric.MPStoLP=function(e){function n(n){throw new Error("MPStoLP: "+n+"\nLine "+t+": "+e[t]+"\nCurrent state: "+s[a]+"\n")}e instanceof String&&e.split("\n");var t,r,i,o,a=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=e.length,c=0,l={},f=[],h=0,m={},p=0,d=[],g=[],v=[];for(t=0;t<u;++t){i=e[t];var y=i.match(/\S*/g),x=[];for(r=0;r<y.length;++r)""!==y[r]&&x.push(y[r]);if(0!==x.length){for(r=0;r<s.length&&i.substr(0,s[r].length)!==s[r];++r);if(r<s.length){if(a=r,1===r&&(o=x[1]),6===r)return{name:o,c:d,A:numeric.transpose(g),b:v,rows:l,vars:m}}else switch(a){case 0:case 1:n("Unexpected line");case 2:switch(x[0]){case"N":0===c?c=x[1]:n("Two or more N rows");break;case"L":l[x[1]]=h,f[h]=1,v[h]=0,++h;break;case"G":l[x[1]]=h,f[h]=-1,v[h]=0,++h;break;case"E":l[x[1]]=h,f[h]=0,v[h]=0,++h;break;default:n("Parse error "+numeric.prettyPrint(x))}break;case 3:m.hasOwnProperty(x[0])||(m[x[0]]=p,d[p]=0,g[p]=numeric.rep([h],0),++p);var b=m[x[0]];for(r=1;r<x.length;r+=2)if(x[r]!==c){var w=l[x[r]];g[b][w]=(f[w]<0?-1:1)*parseFloat(x[r+1])}else d[b]=parseFloat(x[r+1]);break;case 4:for(r=1;r<x.length;r+=2)v[l[x[r]]]=(f[l[x[r]]]<0?-1:1)*parseFloat(x[r+1]);break;case 5:break;case 6:n("Internal error")}}}n("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,n,t,r,i,o,a){function s(e){var n,r,i=this,o=e.length,a=0,s=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(e=[o++]);a<t;)i.S[a]=a++;for(a=0;a<t;a++)n=i.S[a],s=l(s+n+e[a%o]),r=i.S[s],i.S[a]=r,i.S[s]=n;i.g=function(e){var n=i.S,r=l(i.i+1),o=n[r],a=l(i.j+o),s=n[a];n[r]=s,n[a]=o;for(var u=n[l(o+s)];--e;)r=l(r+1),o=n[r],a=l(a+o),s=n[a],n[r]=s,n[a]=o,u=u*t+n[l(o+s)];return i.i=r,i.j=a,u},i.g(t)}function u(e,n,t,r,i){if(t=[],i=typeof e,n&&"object"==i)for(r in e)if(r.indexOf("S")<5)try{t.push(u(e[r],n-1))}catch(o){}return t.length?t:e+("string"!=i?"\0":"")}function c(e,n,t,r){for(e+="",t=0,r=0;r<e.length;r++)n[l(r)]=l((t^=19*n[l(r)])+e.charCodeAt(r));e="";for(r in n)e+=String.fromCharCode(n[r]);return e}function l(e){return e&t-1}n.seedrandom=function(l,f){var h,m=[];return l=c(u(f?[l,e]:arguments.length?l:[(new Date).getTime(),e,window],3),m),h=new s(m),c(h.S,e),n.random=function(){for(var e=h.g(r),n=a,s=0;e<i;)e=(e+s)*t,n*=t,s=h.g(1);for(;e>=o;)e/=2,n/=2,s>>>=1;return(e+s)/n},l},a=n.pow(t,r),i=n.pow(2,i),o=2*i,c(n.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function n(e){if("object"!=typeof e)return e;var t,r=[],i=e.length;for(t=0;t<i;t++)r[t+1]=n(e[t]);return r}function t(e){if("object"!=typeof e)return e;var n,r=[],i=e.length;for(n=1;n<i;n++)r[n-1]=t(e[n]);return r}function r(e,n,t){var r,i,o,a,s;for(o=1;o<=t;o+=1){for(e[o][o]=1/e[o][o],s=-e[o][o],r=1;r<o;r+=1)e[r][o]=s*e[r][o];if(a=o+1,t<a)break;for(i=a;i<=t;i+=1)for(s=e[o][i],e[o][i]=0,r=1;r<=o;r+=1)e[r][i]=e[r][i]+s*e[r][o]}}function i(e,n,t,r){var i,o,a,s;for(o=1;o<=t;o+=1){for(s=0,i=1;i<o;i+=1)s+=e[i][o]*r[i];r[o]=(r[o]-s)/e[o][o]}for(a=1;a<=t;a+=1)for(o=t+1-a,r[o]=r[o]/e[o][o],s=-r[o],i=1;i<o;i+=1)r[i]=r[i]+s*e[i][o]}function o(e,n,t,r){var i,o,a,s,u,c;for(o=1;o<=t;o+=1){if(r[1]=o,c=0,a=o-1,a<1){if(c=e[o][o]-c,c<=0)break;e[o][o]=Math.sqrt(c)}else{for(s=1;s<=a;s+=1){for(u=e[s][o],i=1;i<s;i+=1)u-=e[i][o]*e[i][s];u/=e[s][s],e[s][o]=u,c+=u*u}if(c=e[o][o]-c,c<=0)break;e[o][o]=Math.sqrt(c)}r[1]=0}}function a(e,n,t,a,s,u,c,l,f,h,m,p,d,g,v,y){function x(){for(g[1]=g[1]+1,j=P,k=1;k<=h;k+=1){for(j+=1,q=-l[k],S=1;S<=a;S+=1)q+=c[S][k]*s[S];if(Math.abs(q)<G&&(q=0),k>m)v[j]=q;else if(v[j]=-Math.abs(q),q>0){for(S=1;S<=a;S+=1)c[S][k]=-c[S][k];l[k]=-l[k]}}for(k=1;k<=d;k+=1)v[P+p[k]]=0;for(z=0,F=0,k=1;k<=h;k+=1)v[P+k]<F*v[B+k]&&(z=k,F=v[P+k]/v[B+k]);return 0===z?999:0}function b(){for(k=1;k<=a;k+=1){for(q=0,S=1;S<=a;S+=1)q+=e[S][k]*c[S][z];
v[k]=q}for(_=C,k=1;k<=a;k+=1)v[_+k]=0;for(S=d+1;S<=a;S+=1)for(k=1;k<=a;k+=1)v[_+k]=v[_+k]+e[k][S]*v[S];for(R=!0,k=d;k>=1;k-=1){for(q=v[k],j=L+k*(k+3)/2,_=j-k,S=k+1;S<=d;S+=1)q-=v[j]*v[O+S],j+=S;if(q/=v[_],v[O+k]=q,p[k]<m)break;if(q<0)break;R=!1,E=k}if(!R)for(I=v[N+E]/v[O+E],k=1;k<=d&&!(p[k]<m)&&!(v[O+k]<0);k+=1)F=v[N+k]/v[O+k],F<I&&(I=F,E=k);for(q=0,k=C+1;k<=C+a;k+=1)q+=v[k]*v[k];if(Math.abs(q)<=G){if(R)return y[1]=1,999;for(k=1;k<=d;k+=1)v[N+k]=v[N+k]-I*v[O+k];return v[N+d+1]=v[N+d+1]+I,700}for(q=0,k=1;k<=a;k+=1)q+=v[C+k]*c[k][z];for(D=-v[P+z]/q,H=!0,R||I<D&&(D=I,H=!1),k=1;k<=a;k+=1)s[k]=s[k]+D*v[C+k],Math.abs(s[k])<G&&(s[k]=0);for(u[1]=u[1]+D*q*(D/2+v[N+d+1]),k=1;k<=d;k+=1)v[N+k]=v[N+k]-D*v[O+k];if(v[N+d+1]=v[N+d+1]+D,!H){for(q=-l[z],S=1;S<=a;S+=1)q+=s[S]*c[S][z];if(z>m)v[P+z]=q;else if(v[P+z]=-Math.abs(q),q>0){for(S=1;S<=a;S+=1)c[S][z]=-c[S][z];l[z]=-l[z]}return 700}for(d+=1,p[d]=z,j=L+(d-1)*d/2+1,k=1;k<=d-1;k+=1)v[j]=v[k],j+=1;if(d===a)v[j]=v[a];else{for(k=a;k>=d+1&&0!==v[k]&&(U=Math.max(Math.abs(v[k-1]),Math.abs(v[k])),X=Math.min(Math.abs(v[k-1]),Math.abs(v[k])),F=v[k-1]>=0?Math.abs(U*Math.sqrt(1+X*X/(U*U))):-Math.abs(U*Math.sqrt(1+X*X/(U*U))),U=v[k-1]/F,X=v[k]/F,1!==U);k-=1)if(0===U)for(v[k-1]=X*F,S=1;S<=a;S+=1)F=e[S][k-1],e[S][k-1]=e[S][k],e[S][k]=F;else for(v[k-1]=F,Y=X/(1+U),S=1;S<=a;S+=1)F=U*e[S][k-1]+X*e[S][k],e[S][k]=Y*(e[S][k-1]+F)-e[S][k],e[S][k-1]=F;v[j]=v[d]}return 0}function w(){if(j=L+E*(E+1)/2+1,_=j+E,0===v[_])return 798;if(U=Math.max(Math.abs(v[_-1]),Math.abs(v[_])),X=Math.min(Math.abs(v[_-1]),Math.abs(v[_])),F=v[_-1]>=0?Math.abs(U*Math.sqrt(1+X*X/(U*U))):-Math.abs(U*Math.sqrt(1+X*X/(U*U))),U=v[_-1]/F,X=v[_]/F,1===U)return 798;if(0===U){for(k=E+1;k<=d;k+=1)F=v[_-1],v[_-1]=v[_],v[_]=F,_+=k;for(k=1;k<=a;k+=1)F=e[k][E],e[k][E]=e[k][E+1],e[k][E+1]=F}else{for(Y=X/(1+U),k=E+1;k<=d;k+=1)F=U*v[_-1]+X*v[_],v[_]=Y*(v[_-1]+F)-v[_],v[_-1]=F,_+=k;for(k=1;k<=a;k+=1)F=U*e[k][E]+X*e[k][E+1],e[k][E+1]=Y*(e[k][E]+F)-e[k][E+1],e[k][E]=F}return 0}function M(){for(_=j-E,k=1;k<=E;k+=1)v[_]=v[j],j+=1,_+=1;return v[N+E]=v[N+E+1],p[E]=p[E+1],E+=1,E<d?797:0}function A(){return v[N+d]=v[N+d+1],v[N+d+1]=0,p[d]=0,d-=1,g[2]=g[2]+1,0}var k,S,j,_,T,E,C,O,L,P,N,z,V,B,F,q,I,D,U,X,Y,R,H,G,Q,$,Z;V=Math.min(a,h),j=2*a+V*(V+5)/2+2*h+1,G=1e-60;do G+=G,Q=1+.1*G,$=1+.2*G;while(Q<=1||$<=1);for(k=1;k<=a;k+=1)v[k]=n[k];for(k=a+1;k<=j;k+=1)v[k]=0;for(k=1;k<=h;k+=1)p[k]=0;if(T=[],0===y[1]){if(o(e,t,a,T),0!==T[1])return void(y[1]=2);i(e,t,a,n),r(e,t,a)}else{for(S=1;S<=a;S+=1)for(s[S]=0,k=1;k<=S;k+=1)s[S]=s[S]+e[k][S]*n[k];for(S=1;S<=a;S+=1)for(n[S]=0,k=S;k<=a;k+=1)n[S]=n[S]+e[S][k]*s[k]}for(u[1]=0,S=1;S<=a;S+=1)for(s[S]=n[S],u[1]=u[1]+v[S]*s[S],v[S]=0,k=S+1;k<=a;k+=1)e[k][S]=0;for(u[1]=-u[1]/2,y[1]=0,C=a,O=C+a,N=O+V,L=N+V+1,P=L+V*(V+1)/2,B=P+h,k=1;k<=h;k+=1){for(q=0,S=1;S<=a;S+=1)q+=c[S][k]*c[S][k];v[B+k]=Math.sqrt(q)}for(d=0,g[1]=0,g[2]=0,Z=0;;){if(Z=x(),999===Z)return;for(;Z=b(),0!==Z;){if(999===Z)return;if(700===Z)if(E===d)A();else{for(;w(),Z=M(),797===Z;);A()}}}}function s(e,r,i,o,s,u){e=n(e),r=n(r),i=n(i);var c,l,f,h,m,p,d=[],g=[],v=[],y=[],x=[];if(s=s||0,u=u?n(u):[void 0,0],o=o?n(o):[],l=e.length-1,f=i[1].length-1,!o)for(c=1;c<=f;c+=1)o[c]=0;for(c=1;c<=f;c+=1)g[c]=0;for(h=0,m=Math.min(l,f),c=1;c<=l;c+=1)v[c]=0;for(d[1]=0,c=1;c<=2*l+m*(m+5)/2+2*f+1;c+=1)y[c]=0;for(c=1;c<=2;c+=1)x[c]=0;return a(e,r,l,l,v,d,i,o,l,f,s,g,h,x,y,u),p="",1===u[1]&&(p="constraints are inconsistent, no solution!"),2===u[1]&&(p="matrix D in quadratic function is not positive definite!"),{solution:t(v),value:t(d),unconstrained_solution:t(r),iterations:t(x),iact:t(g),message:p}}e.solveQP=s}(numeric),numeric.svd=function(e){function n(e,n){return e=Math.abs(e),n=Math.abs(n),e>n?e*Math.sqrt(1+n*n/e/e):0==n?e:n*Math.sqrt(1+e*e/n/n)}var t,r=numeric.epsilon,i=1e-64/r,o=50,a=0,s=0,u=0,c=0,l=0,f=numeric.clone(e),h=f.length,m=f[0].length;if(h<m)throw"Need more rows than columns";var p=new Array(m),d=new Array(m);for(s=0;s<m;s++)p[s]=d[s]=0;var g=numeric.rep([m,m],0),v=0,y=0,x=0,b=0,w=0,M=0,A=0;for(s=0;s<m;s++){for(p[s]=y,A=0,l=s+1,u=s;u<h;u++)A+=f[u][s]*f[u][s];if(A<=i)y=0;else for(v=f[s][s],y=Math.sqrt(A),v>=0&&(y=-y),x=v*y-A,f[s][s]=v-y,u=l;u<m;u++){for(A=0,c=s;c<h;c++)A+=f[c][s]*f[c][u];for(v=A/x,c=s;c<h;c++)f[c][u]+=v*f[c][s]}for(d[s]=y,A=0,u=l;u<m;u++)A+=f[s][u]*f[s][u];if(A<=i)y=0;else{for(v=f[s][s+1],y=Math.sqrt(A),v>=0&&(y=-y),x=v*y-A,f[s][s+1]=v-y,u=l;u<m;u++)p[u]=f[s][u]/x;for(u=l;u<h;u++){for(A=0,c=l;c<m;c++)A+=f[u][c]*f[s][c];for(c=l;c<m;c++)f[u][c]+=A*p[c]}}w=Math.abs(d[s])+Math.abs(p[s]),w>b&&(b=w)}for(s=m-1;s!=-1;s+=-1){if(0!=y){for(x=y*f[s][s+1],u=l;u<m;u++)g[u][s]=f[s][u]/x;for(u=l;u<m;u++){for(A=0,c=l;c<m;c++)A+=f[s][c]*g[c][u];for(c=l;c<m;c++)g[c][u]+=A*g[c][s]}}for(u=l;u<m;u++)g[s][u]=0,g[u][s]=0;g[s][s]=1,y=p[s],l=s}for(s=m-1;s!=-1;s+=-1){for(l=s+1,y=d[s],u=l;u<m;u++)f[s][u]=0;if(0!=y){for(x=f[s][s]*y,u=l;u<m;u++){for(A=0,c=l;c<h;c++)A+=f[c][s]*f[c][u];for(v=A/x,c=s;c<h;c++)f[c][u]+=v*f[c][s]}for(u=s;u<h;u++)f[u][s]=f[u][s]/y}else for(u=s;u<h;u++)f[u][s]=0;f[s][s]+=1}for(r*=b,c=m-1;c!=-1;c+=-1)for(var k=0;k<o;k++){var S=!1;for(l=c;l!=-1;l+=-1){if(Math.abs(p[l])<=r){S=!0;break}if(Math.abs(d[l-1])<=r)break}if(!S){a=0,A=1;var j=l-1;for(s=l;s<c+1&&(v=A*p[s],p[s]=a*p[s],!(Math.abs(v)<=r));s++)for(y=d[s],x=n(v,y),d[s]=x,a=y/x,A=-v/x,u=0;u<h;u++)w=f[u][j],M=f[u][s],f[u][j]=w*a+M*A,f[u][s]=-w*A+M*a}if(M=d[c],l==c){if(M<0)for(d[c]=-M,u=0;u<m;u++)g[u][c]=-g[u][c];break}if(k>=o-1)throw"Error: no convergence.";for(b=d[l],w=d[c-1],y=p[c-1],x=p[c],v=((w-M)*(w+M)+(y-x)*(y+x))/(2*x*w),y=n(v,1),v=v<0?((b-M)*(b+M)+x*(w/(v-y)-x))/b:((b-M)*(b+M)+x*(w/(v+y)-x))/b,a=1,A=1,s=l+1;s<c+1;s++){for(y=p[s],w=d[s],x=A*y,y=a*y,M=n(v,x),p[s-1]=M,a=v/M,A=x/M,v=b*a+y*A,y=-b*A+y*a,x=w*A,w*=a,u=0;u<m;u++)b=g[u][s-1],M=g[u][s],g[u][s-1]=b*a+M*A,g[u][s]=-b*A+M*a;for(M=n(v,x),d[s-1]=M,a=v/M,A=x/M,v=a*y+A*w,b=-A*y+a*w,u=0;u<h;u++)w=f[u][s-1],M=f[u][s],f[u][s-1]=w*a+M*A,f[u][s]=-w*A+M*a}p[l]=0,p[c]=v,d[c]=b}for(s=0;s<d.length;s++)d[s]<r&&(d[s]=0);for(s=0;s<m;s++)for(u=s-1;u>=0;u--)if(d[u]<d[s]){for(a=d[u],d[u]=d[s],d[s]=a,c=0;c<f.length;c++)t=f[c][s],f[c][s]=f[c][u],f[c][u]=t;for(c=0;c<g.length;c++)t=g[c][s],g[c][s]=g[c][u],g[c][u]=t;s=u}return{U:f,S:d,V:g}},function(e,n){"function"==typeof define&&define.amd?define("Chartist",[],function(){return e.Chartist=n()}):"object"==typeof exports?module.exports=n():e.Chartist=n()}(this,function(){var e={version:"0.10.0"};return function(e,n,t){t.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t.noop=function(e){return e},t.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},t.extend=function(e){var n,r,i;for(e=e||{},n=1;n<arguments.length;n++){r=arguments[n];for(var o in r)i=r[o],"object"!=typeof i||null===i||i instanceof Array?e[o]=i:e[o]=t.extend(e[o],i)}return e},t.replaceAll=function(e,n,t){return e.replace(new RegExp(n,"g"),t)},t.ensureUnit=function(e,n){return"number"==typeof e&&(e+=n),e},t.quantity=function(e){if("string"==typeof e){var n=/^(\d+)\s*(.*)$/g.exec(e);return{value:+n[1],unit:n[2]||void 0}}return{value:e}},t.querySelector=function(e){return e instanceof Node?e:n.querySelector(e)},t.times=function(e){return Array.apply(null,new Array(e))},t.sum=function(e,n){return e+(n?n:0)},t.mapMultiply=function(e){return function(n){return n*e}},t.mapAdd=function(e){return function(n){return n+e}},t.serialMap=function(e,n){var r=[],i=Math.max.apply(null,e.map(function(e){return e.length}));return t.times(i).forEach(function(t,i){var o=e.map(function(e){return e[i]});r[i]=n.apply(null,o)}),r},t.roundWithPrecision=function(e,n){var r=Math.pow(10,n||t.precision);return Math.round(e*r)/r},t.precision=8,t.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},t.serialize=function(e){return null===e||void 0===e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(t.escapingMap).reduce(function(e,n){return t.replaceAll(e,n,t.escapingMap[n])},e))},t.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(t.escapingMap).reduce(function(e,n){return t.replaceAll(e,t.escapingMap[n],n)},e);try{e=JSON.parse(e),e=void 0!==e.data?e.data:e}catch(n){}return e},t.createSvg=function(e,n,r,i){var o;return n=n||"100%",r=r||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS(t.namespaces.xmlns,"ct")}).forEach(function(n){e.removeChild(n)}),o=new t.Svg("svg").attr({width:n,height:r}).addClass(i).attr({style:"width: "+n+"; height: "+r+";"}),e.appendChild(o._node),o},t.normalizeData=function(e,n,r){var i,o={raw:e,normalized:{}};return o.normalized.series=t.getDataArray({series:e.series||[]},n,r),i=o.normalized.series.every(function(e){return e instanceof Array})?Math.max.apply(null,o.normalized.series.map(function(e){return e.length})):o.normalized.series.length,o.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(o.normalized.labels,t.times(Math.max(0,i-o.normalized.labels.length)).map(function(){return""})),n&&t.reverseData(o.normalized),o},t.safeHasProperty=function(e,n){return null!==e&&"object"==typeof e&&e.hasOwnProperty(n)},t.isDataHoleValue=function(e){return null===e||void 0===e||"number"==typeof e&&isNaN(e)},t.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var n=0;n<e.series.length;n++)"object"==typeof e.series[n]&&void 0!==e.series[n].data?e.series[n].data.reverse():e.series[n]instanceof Array&&e.series[n].reverse()},t.getDataArray=function(e,n,r){function i(e){if(t.safeHasProperty(e,"value"))return i(e.value);if(t.safeHasProperty(e,"data"))return i(e.data);if(e instanceof Array)return e.map(i);if(!t.isDataHoleValue(e)){if(r){var n={};return"string"==typeof r?n[r]=t.getNumberOrUndefined(e):n.y=t.getNumberOrUndefined(e),n.x=e.hasOwnProperty("x")?t.getNumberOrUndefined(e.x):n.x,n.y=e.hasOwnProperty("y")?t.getNumberOrUndefined(e.y):n.y,n}return t.getNumberOrUndefined(e)}}return e.series.map(i)},t.normalizePadding=function(e,n){return n=n||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:n,right:"number"==typeof e.right?e.right:n,bottom:"number"==typeof e.bottom?e.bottom:n,left:"number"==typeof e.left?e.left:n}},t.getMetaData=function(e,n){var t=e.data?e.data[n]:e[n];return t?t.meta:void 0},t.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},t.projectLength=function(e,n,t){return n/t.range*e},t.getAvailableHeight=function(e,n){return Math.max((t.quantity(n.height).value||e.height())-(n.chartPadding.top+n.chartPadding.bottom)-n.axisX.offset,0)},t.getHighLow=function(e,n,r){function i(e){if(void 0!==e)if(e instanceof Array)for(var n=0;n<e.length;n++)i(e[n]);else{var t=r?+e[r]:+e;a&&t>o.high&&(o.high=t),s&&t<o.low&&(o.low=t)}}n=t.extend({},n,r?n["axis"+r.toUpperCase()]:{});var o={high:void 0===n.high?-Number.MAX_VALUE:+n.high,low:void 0===n.low?Number.MAX_VALUE:+n.low},a=void 0===n.high,s=void 0===n.low;return(a||s)&&i(e),(n.referenceValue||0===n.referenceValue)&&(o.high=Math.max(n.referenceValue,o.high),o.low=Math.min(n.referenceValue,o.low)),o.high<=o.low&&(0===o.low?o.high=1:o.low<0?o.high=0:o.high>0?o.low=0:(o.high=1,o.low=0)),o},t.isNumeric=function(e){return null!==e&&isFinite(e)},t.isFalseyButZero=function(e){return!e&&0!==e},t.getNumberOrUndefined=function(e){return t.isNumeric(e)?+e:void 0},t.isMultiValue=function(e){return"object"==typeof e&&("x"in e||"y"in e)},t.getMultiValue=function(e,n){return t.isMultiValue(e)?t.getNumberOrUndefined(e[n||"y"]):t.getNumberOrUndefined(e)},t.rho=function(e){function n(e,t){return e%t===0?t:n(t,e%t)}function t(e){return e*e+1}if(1===e)return e;var r,i=2,o=2;if(e%2===0)return 2;do i=t(i)%e,o=t(t(o))%e,r=n(Math.abs(i-o),e);while(1===r);return r},t.getBounds=function(e,n,r,i){function o(e,n){return e===(e+=n)&&(e*=1+(n>0?p:-p)),e}var a,s,u,c=0,l={high:n.high,low:n.low};l.valueRange=l.high-l.low,l.oom=t.orderOfMagnitude(l.valueRange),l.step=Math.pow(10,l.oom),l.min=Math.floor(l.low/l.step)*l.step,l.max=Math.ceil(l.high/l.step)*l.step,l.range=l.max-l.min,l.numberOfSteps=Math.round(l.range/l.step);var f=t.projectLength(e,l.step,l),h=f<r,m=i?t.rho(l.range):0;if(i&&t.projectLength(e,1,l)>=r)l.step=1;else if(i&&m<l.step&&t.projectLength(e,m,l)>=r)l.step=m;else for(;;){if(h&&t.projectLength(e,l.step,l)<=r)l.step*=2;else{if(h||!(t.projectLength(e,l.step/2,l)>=r))break;if(l.step/=2,i&&l.step%1!==0){l.step*=2;break}}if(c++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var p=2.221e-16;for(l.step=Math.max(l.step,p),s=l.min,u=l.max;s+l.step<=l.low;)s=o(s,l.step);for(;u-l.step>=l.high;)u=o(u,-l.step);l.min=s,l.max=u,l.range=l.max-l.min;var d=[];for(a=l.min;a<=l.max;a=o(a,l.step)){var g=t.roundWithPrecision(a);g!==d[d.length-1]&&d.push(g)}return l.values=d,l},t.polarToCartesian=function(e,n,t,r){var i=(r-90)*Math.PI/180;return{x:e+t*Math.cos(i),y:n+t*Math.sin(i)}},t.createChartRect=function(e,n,r){var i=!(!n.axisX&&!n.axisY),o=i?n.axisY.offset:0,a=i?n.axisX.offset:0,s=e.width()||t.quantity(n.width).value||0,u=e.height()||t.quantity(n.height).value||0,c=t.normalizePadding(n.chartPadding,r);s=Math.max(s,o+c.left+c.right),u=Math.max(u,a+c.top+c.bottom);var l={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return i?("start"===n.axisX.position?(l.y2=c.top+a,l.y1=Math.max(u-c.bottom,l.y2+1)):(l.y2=c.top,l.y1=Math.max(u-c.bottom-a,l.y2+1)),"start"===n.axisY.position?(l.x1=c.left+o,l.x2=Math.max(s-c.right,l.x1+1)):(l.x1=c.left,l.x2=Math.max(s-c.right-o,l.x1+1))):(l.x1=c.left,l.x2=Math.max(s-c.right,l.x1+1),l.y2=c.top,l.y1=Math.max(u-c.bottom,l.y2+1)),l},t.createGrid=function(e,n,r,i,o,a,s,u){var c={};c[r.units.pos+"1"]=e,c[r.units.pos+"2"]=e,c[r.counterUnits.pos+"1"]=i,c[r.counterUnits.pos+"2"]=i+o;var l=a.elem("line",c,s.join(" "));u.emit("draw",t.extend({type:"grid",axis:r,index:n,group:a,element:l},c))},t.createGridBackground=function(e,n,t,r){var i=e.elem("rect",{x:n.x1,y:n.y2,width:n.width(),height:n.height()},t,!0);r.emit("draw",{type:"gridBackground",group:e,element:i})},t.createLabel=function(e,n,r,i,o,a,s,u,c,l,f){var h,m={};if(m[o.units.pos]=e+s[o.units.pos],m[o.counterUnits.pos]=s[o.counterUnits.pos],m[o.units.len]=n,m[o.counterUnits.len]=Math.max(0,a-10),l){var p='<span class="'+c.join(" ")+'" style="'+o.units.len+": "+Math.round(m[o.units.len])+"px; "+o.counterUnits.len+": "+Math.round(m[o.counterUnits.len])+'px">'+i[r]+"</span>";h=u.foreignObject(p,t.extend({style:"overflow: visible;"},m))}else h=u.elem("text",m,c.join(" ")).text(i[r]);f.emit("draw",t.extend({type:"label",axis:o,index:r,group:u,element:h,text:i[r]},m))},t.getSeriesOption=function(e,n,t){if(e.name&&n.series&&n.series[e.name]){var r=n.series[e.name];return r.hasOwnProperty(t)?r[t]:n[t]}return n[t]},t.optionsProvider=function(n,r,i){function o(n){var o=s;if(s=t.extend({},c),r)for(u=0;u<r.length;u++){var a=e.matchMedia(r[u][0]);a.matches&&(s=t.extend(s,r[u][1]))}i&&n&&i.emit("optionsChanged",{previousOptions:o,currentOptions:s})}function a(){l.forEach(function(e){e.removeListener(o)})}var s,u,c=t.extend({},n),l=[];if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(r)for(u=0;u<r.length;u++){var f=e.matchMedia(r[u][0]);f.addListener(o),l.push(f)}return o(),{removeMediaQueryListeners:a,getCurrentOptions:function(){return t.extend({},s)}}},t.splitIntoSegments=function(e,n,r){var i={increasingX:!1,fillHoles:!1};r=t.extend({},i,r);for(var o=[],a=!0,s=0;s<e.length;s+=2)void 0===t.getMultiValue(n[s/2].value)?r.fillHoles||(a=!0):(r.increasingX&&s>=2&&e[s]<=e[s-2]&&(a=!0),a&&(o.push({pathCoordinates:[],valueData:[]}),a=!1),o[o.length-1].pathCoordinates.push(e[s],e[s+1]),o[o.length-1].valueData.push(n[s/2]));return o}}(window,document,e),function(e,n,t){t.Interpolation={},t.Interpolation.none=function(e){var n={fillHoles:!1};return e=t.extend({},n,e),function(n,r){for(var i=new t.Svg.Path,o=!0,a=0;a<n.length;a+=2){var s=n[a],u=n[a+1],c=r[a/2];void 0!==t.getMultiValue(c.value)?(o?i.move(s,u,!1,c):i.line(s,u,!1,c),o=!1):e.fillHoles||(o=!0)}return i}},t.Interpolation.simple=function(e){var n={divisor:2,fillHoles:!1};e=t.extend({},n,e);var r=1/Math.max(1,e.divisor);return function(n,i){for(var o,a,s,u=new t.Svg.Path,c=0;c<n.length;c+=2){var l=n[c],f=n[c+1],h=(l-o)*r,m=i[c/2];void 0!==m.value?(void 0===s?u.move(l,f,!1,m):u.curve(o+h,a,l-h,f,l,f,!1,m),o=l,a=f,s=m):e.fillHoles||(o=l=s=void 0)}return u}},t.Interpolation.cardinal=function(e){var n={tension:1,fillHoles:!1};e=t.extend({},n,e);var r=Math.min(1,Math.max(0,e.tension)),i=1-r;return function o(n,a){var s=t.splitIntoSegments(n,a,{fillHoles:e.fillHoles});if(s.length){if(s.length>1){var u=[];return s.forEach(function(e){u.push(o(e.pathCoordinates,e.valueData))}),t.Svg.Path.join(u)}if(n=s[0].pathCoordinates,a=s[0].valueData,n.length<=4)return t.Interpolation.none()(n,a);for(var c,l=(new t.Svg.Path).move(n[0],n[1],!1,a[0]),f=0,h=n.length;h-2*!c>f;f+=2){var m=[{x:+n[f-2],y:+n[f-1]},{x:+n[f],y:+n[f+1]},{x:+n[f+2],y:+n[f+3]},{x:+n[f+4],y:+n[f+5]}];c?f?h-4===f?m[3]={x:+n[0],y:+n[1]}:h-2===f&&(m[2]={x:+n[0],y:+n[1]},m[3]={x:+n[2],y:+n[3]}):m[0]={x:+n[h-2],y:+n[h-1]}:h-4===f?m[3]=m[2]:f||(m[0]={x:+n[f],y:+n[f+1]}),l.curve(r*(-m[0].x+6*m[1].x+m[2].x)/6+i*m[2].x,r*(-m[0].y+6*m[1].y+m[2].y)/6+i*m[2].y,r*(m[1].x+6*m[2].x-m[3].x)/6+i*m[2].x,r*(m[1].y+6*m[2].y-m[3].y)/6+i*m[2].y,m[2].x,m[2].y,!1,a[(f+2)/2])}return l}return t.Interpolation.none()([])}},t.Interpolation.monotoneCubic=function(e){var n={fillHoles:!1};return e=t.extend({},n,e),function r(n,i){var o=t.splitIntoSegments(n,i,{fillHoles:e.fillHoles,increasingX:!0});if(o.length){if(o.length>1){var a=[];return o.forEach(function(e){a.push(r(e.pathCoordinates,e.valueData))}),t.Svg.Path.join(a)}if(n=o[0].pathCoordinates,i=o[0].valueData,n.length<=4)return t.Interpolation.none()(n,i);var s,u,c=[],l=[],f=n.length/2,h=[],m=[],p=[],d=[];for(s=0;s<f;s++)c[s]=n[2*s],l[s]=n[2*s+1];for(s=0;s<f-1;s++)p[s]=l[s+1]-l[s],d[s]=c[s+1]-c[s],m[s]=p[s]/d[s];for(h[0]=m[0],h[f-1]=m[f-2],s=1;s<f-1;s++)0===m[s]||0===m[s-1]||m[s-1]>0!=m[s]>0?h[s]=0:(h[s]=3*(d[s-1]+d[s])/((2*d[s]+d[s-1])/m[s-1]+(d[s]+2*d[s-1])/m[s]),isFinite(h[s])||(h[s]=0));for(u=(new t.Svg.Path).move(c[0],l[0],!1,i[0]),s=0;s<f-1;s++)u.curve(c[s]+d[s]/3,l[s]+h[s]*d[s]/3,c[s+1]-d[s]/3,l[s+1]-h[s+1]*d[s]/3,c[s+1],l[s+1],!1,i[s+1]);return u}return t.Interpolation.none()([])}},t.Interpolation.step=function(e){var n={postpone:!0,fillHoles:!1};return e=t.extend({},n,e),function(n,r){for(var i,o,a,s=new t.Svg.Path,u=0;u<n.length;u+=2){var c=n[u],l=n[u+1],f=r[u/2];void 0!==f.value?(void 0===a?s.move(c,l,!1,f):(e.postpone?s.line(c,o,!1,a):s.line(i,l,!1,f),s.line(c,l,!1,f)),i=c,o=l,a=f):e.fillHoles||(i=o=a=void 0)}return s}}}(window,document,e),function(e,n,t){t.EventEmitter=function(){function e(e,n){r[e]=r[e]||[],r[e].push(n)}function n(e,n){r[e]&&(n?(r[e].splice(r[e].indexOf(n),1),0===r[e].length&&delete r[e]):delete r[e])}function t(e,n){r[e]&&r[e].forEach(function(e){e(n)}),r["*"]&&r["*"].forEach(function(t){t(e,n)})}var r=[];return{addEventHandler:e,removeEventHandler:n,emit:t}}}(window,document,e),function(e,n,t){function r(e){var n=[];if(e.length)for(var t=0;t<e.length;t++)n.push(e[t]);return n}function i(e,n){var r=n||this.prototype||t.Class,i=Object.create(r);t.Class.cloneDefinitions(i,e);var o=function(){var e,n=i.constructor||function(){};return e=this===t?Object.create(i):this,n.apply(e,Array.prototype.slice.call(arguments,0)),e};return o.prototype=i,o["super"]=r,o.extend=this.extend,o}function o(){var e=r(arguments),n=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){delete n[t],Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}),n}t.Class={extend:i,cloneDefinitions:o}}(window,document,e),function(e,n,t){function r(e,n,r){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=t.extend({},r?this.options:this.defaultOptions,n),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function i(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function o(e,n){return this.eventEmitter.addEventHandler(e,n),this}function a(e,n){return this.eventEmitter.removeEventHandler(e,n),this}function s(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function u(e,n,r,i,o){this.container=t.querySelector(e),this.data=n||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=r,this.options=i,this.responsiveOptions=o,this.eventEmitter=t.EventEmitter(),this.supportsForeignObject=t.Svg.isSupported("Extensibility"),this.supportsAnimations=t.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}t.Base=t.Class.extend({constructor:u,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:r,detach:i,on:o,off:a,version:t.version,supportsForeignObject:!1})}(window,document,e),function(e,n,t){function r(e,r,i,o,a){e instanceof Element?this._node=e:(this._node=n.createElementNS(t.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":t.namespaces.ct})),r&&this.attr(r),i&&this.addClass(i),o&&(a&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node))}function i(e,n){return"string"==typeof e?n?this._node.getAttributeNS(n,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(n){if(void 0!==e[n])if(n.indexOf(":")!==-1){var r=n.split(":");this._node.setAttributeNS(t.namespaces[r[0]],n,e[n])}else this._node.setAttribute(n,e[n])}.bind(this)),this)}function o(e,n,r,i){return new t.Svg(e,n,r,this,i)}function a(){return this._node.parentNode instanceof SVGElement?new t.Svg(this._node.parentNode):null}function s(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new t.Svg(e)}function u(e){var n=this._node.querySelector(e);return n?new t.Svg(n):null}function c(e){var n=this._node.querySelectorAll(e);return n.length?new t.Svg.List(n):null}function l(){return this._node}function f(e,r,i,o){if("string"==typeof e){var a=n.createElement("div");a.innerHTML=e,e=a.firstChild}e.setAttribute("xmlns",t.namespaces.xmlns);var s=this.elem("foreignObject",r,i,o);return s._node.appendChild(e),s}function h(e){return this._node.appendChild(n.createTextNode(e)),this}function m(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function p(){return this._node.parentNode.removeChild(this._node),this.parent()}function d(e){return this._node.parentNode.replaceChild(e._node,this._node),e}function g(e,n){return n&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}function v(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function y(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,n,t){return t.indexOf(e)===n}).join(" ")),this}function x(e){var n=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return n.indexOf(e)===-1}).join(" ")),this}function b(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function M(){return this._node.getBoundingClientRect().width}function A(e,n,r){return void 0===n&&(n=!0),Object.keys(e).forEach(function(i){function o(e,n){var o,a,s,u={};e.easing&&(s=e.easing instanceof Array?e.easing:t.Svg.Easing[e.easing],delete e.easing),e.begin=t.ensureUnit(e.begin,"ms"),e.dur=t.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),n&&(e.fill="freeze",u[i]=e.from,this.attr(u),a=t.quantity(e.begin||0).value,e.begin="indefinite"),o=this.elem("animate",t.extend({attributeName:i},e)),n&&setTimeout(function(){try{o._node.beginElement()}catch(n){u[i]=e.to,this.attr(u),o.remove()}}.bind(this),a),r&&o._node.addEventListener("beginEvent",function(){r.emit("animationBegin",{element:this,animate:o._node,params:e})}.bind(this)),o._node.addEventListener("endEvent",function(){r&&r.emit("animationEnd",{element:this,animate:o._node,params:e}),n&&(u[i]=e.to,this.attr(u),o.remove())}.bind(this))}e[i]instanceof Array?e[i].forEach(function(e){o.bind(this)(e,!1)}.bind(this)):o.bind(this)(e[i],n)}.bind(this)),this}function k(e){var n=this;this.svgElements=[];for(var r=0;r<e.length;r++)this.svgElements.push(new t.Svg(e[r]));Object.keys(t.Svg.prototype).filter(function(e){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)===-1}).forEach(function(e){n[e]=function(){var r=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach(function(n){t.Svg.prototype[e].apply(n,r)}),n}})}t.Svg=t.Class.extend({constructor:r,attr:i,elem:o,parent:a,root:s,querySelector:u,querySelectorAll:c,getNode:l,foreignObject:f,text:h,empty:m,remove:p,replace:d,append:g,classes:v,addClass:y,removeClass:x,removeAllClasses:b,height:w,width:M,animate:A}),t.Svg.isSupported=function(e){return n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var S={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};t.Svg.Easing=S,t.Svg.List=t.Class.extend({constructor:k})}(window,document,e),function(e,n,t){function r(e,n,r,i,o,a){var s=t.extend({command:o?e.toLowerCase():e.toUpperCase()},n,a?{data:a}:{});r.splice(i,0,s)}function i(e,n){e.forEach(function(t,r){b[t.command.toLowerCase()].forEach(function(i,o){n(t,i,r,o,e)})})}function o(e,n){this.pathElements=[],this.pos=0,this.close=e,this.options=t.extend({},w,n)}function a(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}function s(e){return this.pathElements.splice(this.pos,e),this}function u(e,n,t,i){return r("M",{x:+e,y:+n},this.pathElements,this.pos++,t,i),this}function c(e,n,t,i){return r("L",{x:+e,y:+n},this.pathElements,this.pos++,t,i),this}function l(e,n,t,i,o,a,s,u){return r("C",{x1:+e,y1:+n,x2:+t,y2:+i,x:+o,y:+a},this.pathElements,this.pos++,s,u),this}function f(e,n,t,i,o,a,s,u,c){return r("A",{rx:+e,ry:+n,xAr:+t,lAf:+i,sf:+o,x:+a,y:+s},this.pathElements,this.pos++,u,c),this}function h(e){var n=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,n){return n.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(n),e},[]);"Z"===n[n.length-1][0].toUpperCase()&&n.pop();var r=n.map(function(e){var n=e.shift(),r=b[n.toLowerCase()];return t.extend({command:n},r.reduce(function(n,t,r){return n[t]=+e[r],n},{}))}),i=[this.pos,0];return Array.prototype.push.apply(i,r),Array.prototype.splice.apply(this.pathElements,i),this.pos+=r.length,this}function m(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(n,t){var r=b[t.command.toLowerCase()].map(function(n){return this.options.accuracy?Math.round(t[n]*e)/e:t[n]}.bind(this));return n+t.command+r.join(",")}.bind(this),"")+(this.close?"Z":"")}function p(e,n){return i(this.pathElements,function(t,r){t[r]*="x"===r[0]?e:n}),this}function d(e,n){return i(this.pathElements,function(t,r){t[r]+="x"===r[0]?e:n}),this}function g(e){return i(this.pathElements,function(n,t,r,i,o){var a=e(n,t,r,i,o);(a||0===a)&&(n[t]=a)}),this}function v(e){var n=new t.Svg.Path(e||this.close);return n.pos=this.pos,n.pathElements=this.pathElements.slice().map(function(e){return t.extend({},e)}),n.options=t.extend({},this.options),n}function y(e){var n=[new t.Svg.Path];return this.pathElements.forEach(function(r){r.command===e.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new t.Svg.Path),n[n.length-1].pathElements.push(r)}),n}function x(e,n,r){for(var i=new t.Svg.Path(n,r),o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.pathElements.length;s++)i.pathElements.push(a.pathElements[s]);return i}var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},w={accuracy:3};t.Svg.Path=t.Class.extend({constructor:o,position:a,remove:s,move:u,line:c,curve:l,arc:f,scale:p,translate:d,transform:g,parse:h,stringify:m,clone:v,splitByCommand:y}),t.Svg.Path.elementDescriptions=b,t.Svg.Path.join=x}(window,document,e),function(e,n,t){function r(e,n,t,r){this.units=e,this.counterUnits=e===o.x?o.y:o.x,this.chartRect=n,this.axisLength=n[e.rectEnd]-n[e.rectStart],this.gridOffset=n[e.rectOffset],this.ticks=t,this.options=r}function i(e,n,r,i,o){var a=i["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),u=this.ticks.map(a.labelInterpolationFnc);s.forEach(function(c,l){var f,h={x:0,y:0};f=s[l+1]?s[l+1]-c:Math.max(this.axisLength-c,30),t.isFalseyButZero(u[l])&&""!==u[l]||("x"===this.units.pos?(c=this.chartRect.x1+c,h.x=i.axisX.labelOffset.x,"start"===i.axisX.position?h.y=this.chartRect.padding.top+i.axisX.labelOffset.y+(r?5:20):h.y=this.chartRect.y1+i.axisX.labelOffset.y+(r?5:20)):(c=this.chartRect.y1-c,h.y=i.axisY.labelOffset.y-(r?f:0),"start"===i.axisY.position?h.x=r?this.chartRect.padding.left+i.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+i.axisY.labelOffset.x+10),a.showGrid&&t.createGrid(c,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[i.classNames.grid,i.classNames[this.units.dir]],o),a.showLabel&&t.createLabel(c,f,l,u,this,a.offset,h,n,[i.classNames.label,i.classNames[this.units.dir],"start"===a.position?i.classNames[a.position]:i.classNames.end],r,o))}.bind(this))}var o={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};t.Axis=t.Class.extend({constructor:r,createGridAndLabels:i,projectValue:function(e,n,t){throw new Error("Base axis can't be instantiated!")}}),t.Axis.units=o}(window,document,e),function(e,n,t){function r(e,n,r,i){var o=i.highLow||t.getHighLow(n,i,e.pos);this.bounds=t.getBounds(r[e.rectEnd]-r[e.rectStart],o,i.scaleMinSpace||20,i.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},t.AutoScaleAxis["super"].constructor.call(this,e,r,this.bounds.values,i);
}function i(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}t.AutoScaleAxis=t.Axis.extend({constructor:r,projectValue:i})}(window,document,e),function(e,n,t){function r(e,n,r,i){var o=i.highLow||t.getHighLow(n,i,e.pos);this.divisor=i.divisor||1,this.ticks=i.ticks||t.times(this.divisor).map(function(e,n){return o.low+(o.high-o.low)/this.divisor*n}.bind(this)),this.ticks.sort(function(e,n){return e-n}),this.range={min:o.low,max:o.high},t.FixedScaleAxis["super"].constructor.call(this,e,r,this.ticks,i),this.stepLength=this.axisLength/this.divisor}function i(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}t.FixedScaleAxis=t.Axis.extend({constructor:r,projectValue:i})}(window,document,e),function(e,n,t){function r(e,n,r,i){t.StepAxis["super"].constructor.call(this,e,r,i.ticks,i);var o=Math.max(1,i.ticks.length-(i.stretch?1:0));this.stepLength=this.axisLength/o}function i(e,n){return this.stepLength*n}t.StepAxis=t.Axis.extend({constructor:r,projectValue:i})}(window,document,e),function(e,n,t){function r(e){var n=t.normalizeData(this.data,e.reverseData,!0);this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart);var r,i,a=this.svg.elem("g").addClass(e.classNames.gridGroup),s=this.svg.elem("g"),u=this.svg.elem("g").addClass(e.classNames.labelGroup),c=t.createChartRect(this.svg,e,o.padding);r=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,n.normalized.series,c,t.extend({},e.axisX,{ticks:n.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(t,t.Axis.units.x,n.normalized.series,c,e.axisX),i=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,n.normalized.series,c,t.extend({},e.axisY,{high:t.isNumeric(e.high)?e.high:e.axisY.high,low:t.isNumeric(e.low)?e.low:e.axisY.low})):e.axisY.type.call(t,t.Axis.units.y,n.normalized.series,c,e.axisY),r.createGridAndLabels(a,u,this.supportsForeignObject,e,this.eventEmitter),i.createGridAndLabels(a,u,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(a,c,e.classNames.gridBackground,this.eventEmitter),n.raw.series.forEach(function(o,a){var u=s.elem("g");u.attr({"ct:series-name":o.name,"ct:meta":t.serialize(o.meta)}),u.addClass([e.classNames.series,o.className||e.classNames.series+"-"+t.alphaNumerate(a)].join(" "));var l=[],f=[];n.normalized.series[a].forEach(function(e,s){var u={x:c.x1+r.projectValue(e,s,n.normalized.series[a]),y:c.y1-i.projectValue(e,s,n.normalized.series[a])};l.push(u.x,u.y),f.push({value:e,valueIndex:s,meta:t.getMetaData(o,s)})}.bind(this));var h={lineSmooth:t.getSeriesOption(o,e,"lineSmooth"),showPoint:t.getSeriesOption(o,e,"showPoint"),showLine:t.getSeriesOption(o,e,"showLine"),showArea:t.getSeriesOption(o,e,"showArea"),areaBase:t.getSeriesOption(o,e,"areaBase")},m="function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?t.Interpolation.monotoneCubic():t.Interpolation.none(),p=m(l,f);if(h.showPoint&&p.pathElements.forEach(function(n){var s=u.elem("line",{x1:n.x,y1:n.y,x2:n.x+.01,y2:n.y},e.classNames.point).attr({"ct:value":[n.data.value.x,n.data.value.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(n.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:n.data.value,index:n.data.valueIndex,meta:n.data.meta,series:o,seriesIndex:a,axisX:r,axisY:i,group:u,element:s,x:n.x,y:n.y})}.bind(this)),h.showLine){var d=u.elem("path",{d:p.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:n.normalized.series[a],path:p.clone(),chartRect:c,index:a,series:o,seriesIndex:a,seriesMeta:o.meta,axisX:r,axisY:i,group:u,element:d})}if(h.showArea&&i.range){var g=Math.max(Math.min(h.areaBase,i.range.max),i.range.min),v=c.y1-i.projectValue(g);p.splitByCommand("M").filter(function(e){return e.pathElements.length>1}).map(function(e){var n=e.pathElements[0],t=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(n.x,v).line(n.x,n.y).position(e.pathElements.length+1).line(t.x,v)}).forEach(function(t){var s=u.elem("path",{d:t.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:n.normalized.series[a],path:t.clone(),series:o,seriesIndex:a,axisX:r,axisY:i,chartRect:c,index:a,group:u,element:s})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:i.bounds,chartRect:c,axisX:r,axisY:i,svg:this.svg,options:e})}function i(e,n,r,i){t.Line["super"].constructor.call(this,e,n,o,t.extend({},o,r),i)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Line=t.Base.extend({constructor:i,createChart:r})}(window,document,e),function(e,n,t){function r(e){var n,r;e.distributeSeries?(n=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),n.normalized.series=n.normalized.series.map(function(e){return[e]})):n=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var i=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==n.normalized.series.length){var u=t.serialMap(n.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,n){return{x:e.x+(n&&n.x)||0,y:e.y+(n&&n.y)||0}},{x:0,y:0})});r=t.getHighLow([u],e,e.horizontalBars?"x":"y")}else r=t.getHighLow(n.normalized.series,e,e.horizontalBars?"x":"y");r.high=+e.high||(0===e.high?0:r.high),r.low=+e.low||(0===e.low?0:r.low);var c,l,f,h,m,p=t.createChartRect(this.svg,e,o.padding);l=e.distributeSeries&&e.stackBars?n.normalized.labels.slice(0,1):n.normalized.labels,e.horizontalBars?(c=h=void 0===e.axisX.type?new t.AutoScaleAxis(t.Axis.units.x,n.normalized.series,p,t.extend({},e.axisX,{highLow:r,referenceValue:0})):e.axisX.type.call(t,t.Axis.units.x,n.normalized.series,p,t.extend({},e.axisX,{highLow:r,referenceValue:0})),f=m=void 0===e.axisY.type?new t.StepAxis(t.Axis.units.y,n.normalized.series,p,{ticks:l}):e.axisY.type.call(t,t.Axis.units.y,n.normalized.series,p,e.axisY)):(f=h=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,n.normalized.series,p,{ticks:l}):e.axisX.type.call(t,t.Axis.units.x,n.normalized.series,p,e.axisX),c=m=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,n.normalized.series,p,t.extend({},e.axisY,{highLow:r,referenceValue:0})):e.axisY.type.call(t,t.Axis.units.y,n.normalized.series,p,t.extend({},e.axisY,{highLow:r,referenceValue:0})));var d=e.horizontalBars?p.x1+c.projectValue(0):p.y1-c.projectValue(0),g=[];f.createGridAndLabels(i,s,this.supportsForeignObject,e,this.eventEmitter),c.createGridAndLabels(i,s,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(i,p,e.classNames.gridBackground,this.eventEmitter),n.raw.series.forEach(function(r,i){var o,s,u=i-(n.raw.series.length-1)/2;o=e.distributeSeries&&!e.stackBars?f.axisLength/n.normalized.series.length/2:e.distributeSeries&&e.stackBars?f.axisLength/2:f.axisLength/n.normalized.series[i].length/2,s=a.elem("g"),s.attr({"ct:series-name":r.name,"ct:meta":t.serialize(r.meta)}),s.addClass([e.classNames.series,r.className||e.classNames.series+"-"+t.alphaNumerate(i)].join(" ")),n.normalized.series[i].forEach(function(a,l){var v,y,x,b;if(b=e.distributeSeries&&!e.stackBars?i:e.distributeSeries&&e.stackBars?0:l,v=e.horizontalBars?{x:p.x1+c.projectValue(a&&a.x?a.x:0,l,n.normalized.series[i]),y:p.y1-f.projectValue(a&&a.y?a.y:0,b,n.normalized.series[i])}:{x:p.x1+f.projectValue(a&&a.x?a.x:0,b,n.normalized.series[i]),y:p.y1-c.projectValue(a&&a.y?a.y:0,l,n.normalized.series[i])},f instanceof t.StepAxis&&(f.options.stretch||(v[f.units.pos]+=o*(e.horizontalBars?-1:1)),v[f.units.pos]+=e.stackBars||e.distributeSeries?0:u*e.seriesBarDistance*(e.horizontalBars?-1:1)),x=g[l]||d,g[l]=x-(d-v[f.counterUnits.pos]),void 0!==a){var w={};w[f.units.pos+"1"]=v[f.units.pos],w[f.units.pos+"2"]=v[f.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(w[f.counterUnits.pos+"1"]=d,w[f.counterUnits.pos+"2"]=v[f.counterUnits.pos]):(w[f.counterUnits.pos+"1"]=x,w[f.counterUnits.pos+"2"]=g[l]),w.x1=Math.min(Math.max(w.x1,p.x1),p.x2),w.x2=Math.min(Math.max(w.x2,p.x1),p.x2),w.y1=Math.min(Math.max(w.y1,p.y2),p.y1),w.y2=Math.min(Math.max(w.y2,p.y2),p.y1);var M=t.getMetaData(r,l);y=s.elem("line",w,e.classNames.bar).attr({"ct:value":[a.x,a.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(M)}),this.eventEmitter.emit("draw",t.extend({type:"bar",value:a,index:l,meta:M,series:r,seriesIndex:i,axisX:h,axisY:m,chartRect:p,group:s,element:y},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:p,axisX:h,axisY:m,svg:this.svg,options:e})}function i(e,n,r,i){t.Bar["super"].constructor.call(this,e,n,o,t.extend({},o,r),i)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Bar=t.Base.extend({constructor:i,createChart:r})}(window,document,e),function(e,n,t){function r(e,n,t){var r=n.x>e.x;return r&&"explode"===t||!r&&"implode"===t?"start":r&&"implode"===t||!r&&"explode"===t?"end":"middle"}function i(e){var n,i,o,s,u,c=t.normalizeData(this.data),l=[],f=e.startAngle;this.svg=t.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),i=t.createChartRect(this.svg,e,a.padding),o=Math.min(i.width()/2,i.height()/2),u=e.total||c.normalized.series.reduce(function(e,n){return e+n},0);var h=t.quantity(e.donutWidth);"%"===h.unit&&(h.value*=o/100),o-=e.donut?h.value/2:0,s="outside"===e.labelPosition||e.donut?o:"center"===e.labelPosition?0:o/2,s+=e.labelOffset;var m={x:i.x1+i.width()/2,y:i.y2+i.height()/2},p=1===c.raw.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;c.raw.series.forEach(function(e,n){l[n]=this.svg.elem("g",null,null)}.bind(this)),e.showLabel&&(n=this.svg.elem("g",null,null)),c.raw.series.forEach(function(i,a){if(0!==c.normalized.series[a]||!e.ignoreEmptyValues){l[a].attr({"ct:series-name":i.name}),l[a].addClass([e.classNames.series,i.className||e.classNames.series+"-"+t.alphaNumerate(a)].join(" "));var d=u>0?f+c.normalized.series[a]/u*360:0,g=Math.max(0,f-(0===a||p?0:.2));d-g>=359.99&&(d=g+359.99);var v=t.polarToCartesian(m.x,m.y,o,g),y=t.polarToCartesian(m.x,m.y,o,d),x=new t.Svg.Path((!e.donut)).move(y.x,y.y).arc(o,o,0,d-f>180,0,v.x,v.y);e.donut||x.line(m.x,m.y);var b=l[a].elem("path",{d:x.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(b.attr({"ct:value":c.normalized.series[a],"ct:meta":t.serialize(i.meta)}),e.donut&&b.attr({style:"stroke-width: "+h.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:c.normalized.series[a],totalDataSum:u,index:a,meta:i.meta,series:i,group:l[a],element:b,path:x.clone(),center:m,radius:o,startAngle:f,endAngle:d}),e.showLabel){var w;w=1===c.raw.series.length?{x:m.x,y:m.y}:t.polarToCartesian(m.x,m.y,s,f+(d-f)/2);var M;M=c.normalized.labels&&!t.isFalseyButZero(c.normalized.labels[a])?c.normalized.labels[a]:c.normalized.series[a];var A=e.labelInterpolationFnc(M,a);if(A||0===A){var k=n.elem("text",{dx:w.x,dy:w.y,"text-anchor":r(m,w,e.labelDirection)},e.classNames.label).text(""+A);this.eventEmitter.emit("draw",{type:"label",index:a,group:n,element:k,text:""+A,x:w.x,y:w.y})}}f=d}}.bind(this)),this.eventEmitter.emit("created",{chartRect:i,svg:this.svg,options:e})}function o(e,n,r,i){t.Pie["super"].constructor.call(this,e,n,a,t.extend({},a,r),i)}var a={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:t.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};t.Pie=t.Base.extend({constructor:o,createChart:i,determineAnchorPosition:r})}(window,document,e),e}),function(e,n){"function"==typeof define&&define.amd?define(["chartist"],function(t){return e.returnExportsGlobal=n(t)}):"object"==typeof exports?module.exports=n(require("chartist")):e["Chartist.plugins.tooltips"]=n(Chartist)}(this,function(e){return function(e,n,t){function r(e){o(e,"tooltip-show")||(e.className=e.className+" tooltip-show")}function i(e){var n=new RegExp("tooltip-show\\s*","gi");e.className=e.className.replace(n,"").trim()}function o(e,n){return(" "+e.getAttribute("class")+" ").indexOf(" "+n+" ")>-1}function a(e,n){do e=e.nextSibling;while(e&&!o(e,n));return e}function s(e){return e.innerText||e.textContent}var u={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,"class":void 0,pointClass:"ct-point"};t.plugins=t.plugins||{},t.plugins.tooltip=function(c){return c=t.extend({},u,c),function(u){function l(e,n,t){m.addEventListener(e,function(e){n&&!o(e.target,n)||t(e)})}function f(n){d=d||p.offsetHeight,g=g||p.offsetWidth;var t,r,i=-g/2+c.tooltipOffset.x,o=-d+c.tooltipOffset.y;if(c.appendToBody)p.style.top=n.pageY+o+"px",p.style.left=n.pageX+i+"px";else{var a=m.getBoundingClientRect(),s=n.pageX-a.left-e.pageXOffset,u=n.pageY-a.top-e.pageYOffset;!0===c.anchorToPoint&&n.target.x2&&n.target.y2&&(t=parseInt(n.target.x2.baseVal.value),r=parseInt(n.target.y2.baseVal.value)),p.style.top=(r||u)+o+"px",p.style.left=(t||s)+i+"px"}}var h=c.pointClass;u instanceof t.Bar?h="ct-bar":u instanceof t.Pie&&(h=u.options.donut?"ct-slice-donut":"ct-slice-pie");var m=u.container,p=m.querySelector(".chartist-tooltip");p||(p=n.createElement("div"),p.className=c["class"]?"chartist-tooltip "+c["class"]:"chartist-tooltip",c.appendToBody?n.body.appendChild(p):m.appendChild(p));var d=p.offsetHeight,g=p.offsetWidth;i(p),l("mouseover",h,function(e){var i=e.target,o="",l=u instanceof t.Pie?i:i.parentNode,h=l?i.parentNode.getAttribute("ct:meta")||i.parentNode.getAttribute("ct:series-name"):"",m=i.getAttribute("ct:meta")||h||"",v=!!m,y=i.getAttribute("ct:value");if(c.transformTooltipTextFnc&&"function"==typeof c.transformTooltipTextFnc&&(y=c.transformTooltipTextFnc(y)),c.tooltipFnc&&"function"==typeof c.tooltipFnc)o=c.tooltipFnc(m,y);else{if(c.metaIsHTML){var x=n.createElement("textarea");x.innerHTML=m,m=x.value}if(m='<span class="chartist-tooltip-meta">'+m+"</span>",v)o+=m+"<br>";else if(u instanceof t.Pie){var b=a(i,"ct-label");b&&(o+=s(b)+"<br>")}y&&(c.currency&&(y=void 0!=c.currencyFormatCallback?c.currencyFormatCallback(y,c):c.currency+y.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),y='<span class="chartist-tooltip-value">'+y+"</span>",o+=y)}o&&(p.innerHTML=o,f(e),r(p),d=p.offsetHeight,g=p.offsetWidth)}),l("mouseout",h,function(){i(p)}),l("mousemove",null,function(e){!1===c.anchorToPoint&&f(e)})}}}(window,document,e),e.plugins.tooltips}),function(e,n){"function"==typeof define&&define.amd?define([],function(){return e.returnExportsGlobal=n()}):"object"==typeof exports?module.exports=n():e["Chartist.plugins.ctPointLabels"]=n()}(this,function(){return function(e,n,t){var r={labelClass:"ct-label",labelOffset:{x:0,y:-10},textAnchor:"middle",labelInterpolationFnc:t.noop};t.plugins=t.plugins||{},t.plugins.ctPointLabels=function(e){return e=t.extend({},r,e),function(n){n instanceof t.Line&&n.on("draw",function(n){"point"===n.type&&n.group.elem("text",{x:n.x+e.labelOffset.x,y:n.y+e.labelOffset.y,style:"text-anchor: "+e.textAnchor},e.labelClass).text(e.labelInterpolationFnc(n.meta?n.meta:void 0===n.value.x?n.value.y:n.value.x+", "+n.value.y))})}}}(window,document,Chartist),Chartist.plugins.ctPointLabels}),function(e,n){"function"==typeof define&&define.amd?define([],function(){return e.returnExportsGlobal=n()}):"object"==typeof exports?module.exports=n():e["Chartist.plugins.zoom"]=n()}(this,function(){return function(e,n,t){function r(e){e.attr({style:"display:none"})}function i(e){e.attr({style:"display:block"})}function o(e,n){var t=e.x,r=e.y,i=n.x-t,o=n.y-r;return i<0&&(i=-i,t=n.x),o<0&&(o=-o,r=n.y),{x:t,y:r,width:i,height:o}}function a(e,n){return s(e.clientX,e.clientY,n)}function s(e,n,t){var r="svg"===t.tagName?t:t.ownerSVGElement,i=r.getScreenCTM(),o=r.createSVGPoint();return o.x=e,o.y=n,o=o.matrixTransform(i.inverse()),o||{x:0,y:0}}function u(e,n){var t=n.bounds.max,r=n.bounds.min;if(n.scale&&"log"===n.scale.type){var i=n.scale.base;return Math.pow(i,e*c(t/r,i)/n.axisLength)*r}return e*n.bounds.range/n.axisLength+r}function c(e,n){return Math.log(e)/Math.log(n)}var l={pointClipOffset:5};t.plugins=t.plugins||{},t.plugins.zoom=function(e){return e=t.extend({},l,e),function(n){function s(e){var n=a(e,w);return n.id=e.identifier,n}function c(e){for(var n=0;n<_.length;n++){var t=_[n].id;if(t===e)return n}return-1}function l(e){for(var n=e.changedTouches,t=0;t<n.length;t++)_.push(s(n[t]));_.length>1&&(b.attr(o(_[0],_[1])),i(b))}function f(e){for(var n=e.changedTouches,t=0;t<n.length;t++){var r=c(n[t].identifier);_.splice(r,1,s(n[t]))}_.length>1&&(b.attr(o(_[0],_[1])),i(b),e.preventDefault())}function h(e){m(e.changedTouches)}function m(e){for(var n=0;n<e.length;n++){var t=c(e[n].identifier);t>=0&&_.splice(t,1)}}function p(e){_.length>1&&y(o(_[0],_[1])),m(e.changedTouches),r(b)}function d(e){if(0===e.button){var n=a(e,w);g(n,k)&&(S=n,b.attr(o(S,S)),i(b),e.preventDefault())}}function g(e,n){return e.x>=n.x1&&e.x<=n.x2&&e.y>=n.y2&&e.y<=n.y1}function v(n){if(0===n.button&&S){var t=o(S,a(n,w));y(t),S=null,r(b)}else e.resetOnRightMouseBtn&&2===n.button&&(T(),n.preventDefault())}function y(e){if(e.width>5&&e.height>5){var t=Math.max(0,e.x-k.x1),r=Math.min(k.width(),t+e.width),i=Math.min(k.height(),k.y1-e.y),o=Math.max(0,i-e.height);n.options.axisX.highLow={low:u(t,M),high:u(r,M)},n.options.axisY.highLow={low:u(o,A),high:u(i,A)},n.update(n.data,n.options),j&&j(n,T)}}function x(e){if(S){var n=a(e,w);g(n,k)&&(b.attr(o(S,n)),e.preventDefault())}}if(n instanceof t.Line){var b,w,M,A,k,S,j=e.onZoom,_=[];n.on("draw",function(e){var n=e.type,t="point"===n?"point-mask":"line-mask";"line"!==n&&"bar"!==n&&"area"!==n&&"point"!==n||e.element.attr({"clip-path":"url(#"+t+")"})}),n.on("created",function(n){function t(e,n){o.elem("clipPath",{id:e}).elem("rect",{x:k.x1-n,y:k.y2-n,width:a+n+n,height:s+n+n,fill:"white"})}function i(e,n){w.addEventListener(e,n)}M=n.axisX,A=n.axisY,k=n.chartRect,w=n.svg._node,b=n.svg.elem("rect",{x:10,y:10,width:100,height:100},"ct-zoom-rect"),r(b);var o=n.svg.querySelector("defs")||n.svg.elem("defs"),a=k.width(),s=k.height();t("line-mask",0),t("point-mask",e.pointClipOffset),i("mousedown",d),i("mouseup",v),i("mousemove",x),i("touchstart",l),i("touchmove",f),i("touchend",p),i("touchcancel",h)});var T=function(){n.options.axisX.highLow=null,n.options.axisY.highLow=null,n.update(n.data,n.options)}}}}}(window,document,Chartist),Chartist.plugins.zoom}),/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
function(){function e(){var e={series:[]},t={showLine:!1,axisX:{showGrid:!0,showLabel:!1,type:Chartist.AutoScaleAxis,labelInterpolationFnc:function(e,n){return n%13===0?"x"+e:null}},axisY:{showGrid:!0,showLabel:!1,type:Chartist.AutoScaleAxis},plugins:[Chartist.plugins.ctPointLabels({textAnchor:"middle"}),Chartist.plugins.zoom({onZoom:n})]},i=[["screen and (min-width: 640px)",{axisX:{labelInterpolationFnc:function(e,n){return n%4===0?"W"+e:null}}}]];return new Chartist.Line("#resultsChart",e,t,i).on("draw",r)}function n(e,n){f=0,l=0,c=n,p.update()}function t(e){var n={series:[[],[],[]]};if(e.resultsToPlot)for(var t in e.resultsToPlot){var r=e.resultsToPlot[t];r.meta="Pat Num:"+r.patent_ID,n.series[r.series-1].push(r)}h=e.search1Circle,m=e.search2Circle,l=0,f=0,p.update(n)}function r(e){i(e)}function i(e){if("grid"===e.type&&0===e.index&&0===l){l+=1;new Chartist.Svg("circle");h.x=e.axis.axisLength*(Chartist.getMultiValue(h.x,"x")-e.axis.range.min)/(e.axis.range.max-e.axis.range.min),m.x=e.axis.axisLength*(Chartist.getMultiValue(m.x,"x")-e.axis.range.min)/(e.axis.range.max-e.axis.range.min),h.r=h.r*h.x,m.r=m.r*m.x}if("grid"===e.type&&0===e.index&&1===l&&(l+=1,h.y=e.axis.axisLength*(Chartist.getMultiValue(h.y,"y")-e.axis.range.min)/(e.axis.range.max-e.axis.range.min),m.y=e.axis.axisLength*(Chartist.getMultiValue(m.y,"y")-e.axis.range.min)/(e.axis.range.max-e.axis.range.min)),"point"===e.type&&0===e.index&&2===l){l+=1;var n=new Chartist.Svg("circle"),t=new Chartist.Svg("circle");n.attr({cx:h.y,cy:h.x,r:[h.r],"class":"vennCircle1"}),t.attr({cx:m.y,cy:m.x,r:[m.r],"class":"vennCircle2"}),e.group.append(n),e.group.append(t)}}function o(){function e(e){a(e),t(e),s("Search Finished"),r.attr("disabled",!1),n.fadeOut()}var n=$(".searchContainer .searchProgress"),r=$(".searchContainer .searchnow"),i=$(".searchContainer #search1"),o=$(".searchContainer #search2");r.attr("disabled",!0),n.fadeIn();var u={search1:i.val()||"",search2:o.val()||""};""===u.search1&&""!==u.search2&&(u.search1=u.search2,u.search2=""),$.ajax({url:"http://localhost:5000/venn/api/v1.0/search",contentType:"application/json",dataType:"json",method:"POST",data:JSON.stringify(u),success:e,error:function(e){r.attr("disabled",!1),n.fadeOut(),s("Search Error Occurred - Code:"+e.status)}})}function a(e){var n=$(".docFound"),t=$(".searchedTerms");n.empty(),t.empty();for(var r in e.matchingPatentNums)n.append('<li class="mdl-list__item center"><span class="mdl-chip mdl-chip--contact"><span class="mdl-chip__contact mdl-color--teal mdl-color-text--white"> <i class="material-icons mdl-list__item-icon">description</i></span> <span class="mdl-chip__text">'+e.matchingPatentNums[r]+"</span></span></li>");for(var i in e.searchedTerms)t.append('<li class="mdl-list__item center"><span class="mdl-chip mdl-chip--contact"><span class="mdl-chip__contact mdl-color--teal mdl-color-text--white"> <i class="material-icons mdl-list__item-icon">find_in_page</i></span> <span class="mdl-chip__text">'+e.searchedTerms[i]+"</span></span></li>");e.matchingPatentNums.length<1&&n.append('<li class="mdl-list__item center"><span class="mdl-chip mdl-chip--contact"><span class="mdl-chip__contact mdl-color--teal mdl-color-text--white"> <i class="material-icons mdl-list__item-icon">description</i></span> <span class="mdl-chip__text">None Found</span></span></li>'),e.searchedTerms.length<1&&t.append('<li class="mdl-list__item center"><span class="mdl-chip mdl-chip--contact"><span class="mdl-chip__contact mdl-color--teal mdl-color-text--white"> <i class="material-icons mdl-list__item-icon">find_in_page</i></span> <span class="mdl-chip__text">None Used.</span></span></li>')}function s(e){var n=document.querySelector("#demo-toast-example"),t=(document.querySelector("#demo-show-toast"),{message:e});n.MaterialSnackbar.showSnackbar(t)}var u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||u)&&navigator.serviceWorker.register("service-worker.js").then(function(e){e.onupdatefound=function(){if(navigator.serviceWorker.controller){var n=e.installing;n.onstatechange=function(){switch(n.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(e){console.error("Error during service worker registration:",e)});var c,l=2,f=0,h={},m={},p=e();$(".searchContainer").on("click",".searchnow",o),$(document).keypress(function(e){var n=e.keyCode?e.keyCode:e.which;"13"==n&&$(".searchnow").click()}),$(".searchContainer").on("click",".resetZoom",function(){c&&c()}),$(document).on("click","a.mdl-navigation__link",function(e){var n=$(e.currentTarget);n.data("link")&&(event.preventDefault(),$("main .tab").hide(),$("main #"+n.data("link")).show())})}();
//# sourceMappingURL=main.min.js.map
