{"version":3,"sources":["homeView.js"],"names":["window","Backbone","Handlebars","Templates","app","homeView","View","extend","template","el","events","click .searchnow","initialize","this","render","$el","html","componentHandler","upgradeDom","searchNow","populateApiResults","data","docsFound","matchingPatentNums","searchedTerms","primarySearch","processResults","showToast","$searchButton","attr","$progressBar","fadeOut","$","$searchBox1","$searchBox2","fadeIn","searchObj","search1","val","search2","ajax","url","contentType","dataType","method","JSON","stringify","success","error","response","status"],"mappings":"CAIA,SAAAA,EAAAC,EAAAC,EAAAC,GACAH,EAAAI,IAAAC,SAAAJ,EAAAK,KAAAC,QACAC,SAAAL,EAAAE,WACAI,GAAA,WACAC,QACAC,mBAAA,aAEAC,WAAA,WACAC,KAAAC,UAEAA,OAAA,WACAD,KAAAE,IAAAC,KAAAH,KAAAL,UAEAS,iBAAAC,cAEAC,UAAA,WAkBA,QAAAC,GAAAC,GACArB,EAAAI,IAAAiB,KAAAC,UAAAD,EAAAE,mBACAvB,EAAAI,IAAAiB,KAAAG,cAAAH,EAAAG,cACAxB,EAAAI,IAAAiB,KAAAI,cAAAJ,EAEA,QAAAK,GAAAL,GAEAD,EAAAC,GAEArB,EAAAI,IAAAuB,UAAA,mBACAC,EAAAC,KAAA,YAAA,GACAC,EAAAC,UA5BA,GAAAD,GAAAE,EAAA,oCACAJ,EAAAI,EAAA,+BACAC,EAAAD,EAAA,6BACAE,EAAAF,EAAA,4BAGAJ,GAAAC,KAAA,YAAA,GACAC,EAAAK,QAEA,IAAAC,IACAC,QAAAJ,EAAAK,OAAA,GACAC,QAAAL,EAAAI,OAAA,GAEA,MAAAF,EAAA,SAAA,KAAAA,EAAA,UACAA,EAAAC,QAAAD,EAAAG,QACAH,EAAAG,QAAA,IAgBAP,EAAAQ,MAEAC,IAAA,6CACAC,YAAA,mBACAC,SAAA,OACAC,OAAA,OAEAvB,KAAAwB,KAAAC,UAAAV,GACAW,QAAArB,EACAsB,MAAA,SAAAC,GAEArB,EAAAC,KAAA,YAAA,GACAC,EAAAC,UACAJ,UAAA,gCAAAsB,EAAAC,eAKAlD,OAAAC,SAAAC,WAAAC","file":"main.min.js","sourcesContent":["/**\n * Created by ryancarlton on 1/20/17.\n */\n\n(function (window, Backbone, Handlebars, Templates) {\n  window.app.homeView = Backbone.View.extend({\n    template: Templates.homeView(),\n    el: '#appView',\n    events: {\n      'click .searchnow': 'searchNow'\n    },\n    initialize: function () {\n      this.render();\n    },\n    render: function () {\n      this.$el.html(this.template);\n      //reinit dom with mdl\n      componentHandler.upgradeDom();\n    },\n    searchNow: function () {\n      var $progressBar = $('.searchContainer .searchProgress'),\n        $searchButton = $('.searchContainer .searchnow'),\n        $searchBox1 = $('.searchContainer #search1'),\n        $searchBox2 = $('.searchContainer #search2');\n\n      //Start search\n      $searchButton.attr('disabled', true);\n      $progressBar.fadeIn();\n\n      var searchObj = {\n        'search1': $searchBox1.val() || '',\n        'search2': $searchBox2.val() || ''\n      };\n      if (searchObj['search1'] === '' && searchObj['search2'] !== '') {\n        searchObj.search1 = searchObj.search2;\n        searchObj.search2 = '';\n      }\n      function populateApiResults(data) {\n        window.app.data.docsFound = data.matchingPatentNums;\n        window.app.data.searchedTerms = data.searchedTerms;\n        window.app.data.primarySearch = data;\n      }\n      function processResults(data) {\n        //Successfully made search\n        populateApiResults(data);\n        //drawGraph(data);\n        window.app.showToast('Search Finished');\n        $searchButton.attr('disabled', false);\n        $progressBar.fadeOut();\n      }\n\n      $.ajax({\n        // url: '/venn/api/v1.0/search',\n        url: 'http://localhost:5000/venn/api/v1.0/search',\n        contentType: \"application/json\",\n        dataType: 'json',\n        method: 'POST',\n        //data is the search term\n        data: JSON.stringify(searchObj),\n        success: processResults,\n        error: function (response) {\n          //var errorCode = JSON.parse(xhr.responseText);\n          $searchButton.attr('disabled', false);\n          $progressBar.fadeOut();\n          showToast('Search Error Occurred - Code:' + response.status);\n        }\n      });\n    }\n  });\n})(window, Backbone, Handlebars, Templates);\n"]}